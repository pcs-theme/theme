(function(m,f){"function"===typeof define&&define.amd?define(f):"object"===typeof exports?module.exports=f():m.Lazy=f()})(this,function(m){function f(a){if(y(a))return new w(a);if("string"===typeof a)return new D(a);if(a instanceof d)return a;if(f.extensions){for(var b=f.extensions,c=b.length,e;!e&&c--;)e=b[c](a);if(e)return e}return new E(a)}function d(){}function x(a){this.sequence=a;this.index=-1}function p(a){this.parent=a;this.memo=[];this.iterator=void 0;this.complete=!1}function h(a,b){this.parent=a;this.mapFn=b}function L(a,b){this.iterator=a.getIterator();this.mapFn=b;this.index=-1}function z(a,b){this.parent=a;this.filterFn=b}function M(a,b){this.iterator=a.getIterator();this.filterFn=b;this.index=0}function N(a){this.parent=a}function B(a){this.sequence=a}function k(a,b){this.parent=a;this.arrays=b}function t(a,b){this.parent=a;this.count=b}function S(a,b){this.iterator=a.getIterator();this.count=b}function pa(a,b){this.parent=a;this.predicate=b}function qa(a,b){this.parent=a;this.count="number"===typeof b?b:1}function ra(a,b){this.parent=a;this.count="number"===typeof b?b:1}function sa(a,b){this.parent=a;this.predicate=b}function O(a,b){this.parent=a;this.sortFn=b}function ta(a,b,c){this.parent=a;this.keyFn=b;this.valFn=c}function ua(a,b,c){this.parent=a;this.keyFn=b;this.valFn=c}function va(a,b){this.parent=a;this.keyFn=b}function P(a,b){this.parent=a;this.keyFn=b}function wa(a,b){this.parent=a;this.arrays=b}function xa(a){this.parent=a}function ba(a,b){this.parent=a;this.each=b?this.eachShallow:this.eachRecursive}function ya(a,b){this.parent=a;this.values=b}function za(a,b){this.parent=a;this.arrays=b}function Aa(a,b){this.iterator=b;this.memo=a;this.currentIndex=0;this.currentValue=void 0}function F(a){this.iterator=a;this.set=new G;this.memo=[];this.currentValue=void 0}function Ba(a,b){this.parent=a;this.count=b}function Ca(a,b){this.parent=a;this.chunkSize=b}function Da(a,b){this.iterator=a.getIterator();this.size=b}function Ea(a,b){this.parent=a;this.callback=b}function Q(a,b){this.parent=a;this.array=b;var c=40>b.length?Q.prototype.eachArrayCache:Q.prototype.eachMemoizerCache;this.each=c}function Fa(a,b){this.parent=a;this.array=b}function n(){}function Ga(a){this.sequence=a;this.index=-1}function T(a,b){this.parent=a;this.mapFn=b}function Ha(a,b){this.parent=a;this.filterFn=b}function U(a){this.parent=a}function Ia(a,b){this.parent=a;this.count=b}function ca(a,b){this.parent=a;this.count="number"===typeof b?b:1}function da(a,b){this.parent=a;this.other=b}function V(a,b){this.parent=a;var c=100>a.length()?V.prototype.eachArrayCache:P.prototype.each;this.each=c;this.keyFn=b}function w(a){this.source=a}function W(a,b){this.parent=a;this.mapFn=b}function Ja(a,b){this.parent=a;this.filterFn=b}function C(a,b){this.parent=a;var c=a.source;c=40>c.length?C.prototype.eachNoCache:100>c.length?C.prototype.eachArrayCache:C.prototype.eachSetCache;this.each=c;this.keyFn=b}function X(a,b){this.parent=a;this.other=b}function l(){}function Ka(a){this.parent=a}function La(a){this.parent=a}function Ma(a,b){this.parent=a;this.filterFn=b}function ea(a,b){this.parent=a;this.other=b}function fa(a,b){this.parent=a;this.defaultValues=b}function Na(a){this.parent=a}function Oa(a,b,c){this.parent=a;this.others=b;this.mergeFn=c}function $a(a,b){var c;if("undefined"===typeof b)return a;if(a&&a.constructor===Object&&b&&b.constructor===Object)var e={};else if(y(a)&&y(b))e=[];else return b;for(c in a)e[c]=$a(a[c],b[c]);for(c in b)e[c]||(e[c]=b[c]);return e}function ha(a,b){this.parent=a;this.properties=b}function ia(a,b){this.parent=a;this.properties=b}function E(a){this.source=a}function q(){}function Y(a){this.source=f(a);this.index=-1}function ja(a,b,c){this.parent=a;this.start=Math.max(0,b);this.stop=c}function ka(a,b){this.parent=a;this.mapFn=b}function la(a){this.parent=a}function Pa(a,b){this.parent=a;this.pattern=b}function Qa(a,b){this.source=a;this.pattern=ma(b)}function Ra(a,b){this.parent=a;this.pattern=b}function Sa(a,b){this.source=a;this.pattern=ma(b)}function Ta(a,b){this.source=a;this.delimiter=b}function D(a){this.source=a}function H(a,b){this.get=a;this.fixedLength=b}function Ua(a){this.sequence=a;this.index=0;this.currentValue=null}function u(a,b){if(a instanceof u)throw Error("Sequence is already asynchronous!");this.parent=a;this.interval=b;this.onNextCallback=ab(b);var c="undefined"===typeof b&&"function"===typeof clearImmediate?clearImmediate:clearTimeout;this.cancelCallback=c}function v(a){this.resolveListeners=[];this.rejectListeners=[];this.state=I;this.cancelFn=a}function Z(a,b){if(a===b)a._reject(new TypeError("Cannot resolve a promise to itself"));else if(b instanceof v)b.then(function(b){Z(a,b)},function(b){a._reject(b)});else{try{var c=/function|object/.test(typeof b)&&null!=b&&b.then}catch(g){a._reject(g);return}var e=I;if("function"===typeof c)try{c.call(b,function(b){e===I&&(e=2,Z(a,b))},function(b){e===I&&(e=3,a._reject(b))})}catch(g){e===I&&a._reject(g)}else a._resolve(b)}}function Va(a,b,c){c||(c=ab());c(function(){0<a.length&&(a.shift()(b),Va(a,b,c))})}function ab(a){if("undefined"===typeof a&&"function"===typeof setImmediate)return setImmediate;a=a||0;return function(b){return setTimeout(b,a)}}function cb(a,b){return b instanceof v?b.then(function(){a(b)}):a(b)}function Wa(a,b){this.listeners=[];b?y(b)||(b=[b]):b=f(a).keys().toArray();var c=this.listeners,e=0;f(b).each(function(b){var g=a[b];Object.defineProperty(a,b,{get:function(){return g},set:function(a){for(var d=c.length-1;0<=d;--d)!1===c[d]({property:b,value:a},e)&&c.splice(d,1);g=a;++e}})})}function J(){}function aa(a,b){this.parent=a;this.delimiter=b;this.each=this.getEachForDelimiter(b)}function Xa(a,b){this.parent=a;this.pattern=ma(b)}function r(a,b){switch(typeof a){case "function":return a;case "string":return function(b){return b[a]};case "object":return function(b){return f(a).all(function(a,c){return b[c]===a})};case "undefined":return b?function(){return b}:f.identity;default:throw Error("Don't know how to make a callback from a "+typeof a+"!");}}function bb(a){if(!a)return na;a=r(a);return function(b,c){return na(a(b),a(c))}}function Ya(a){return function(b,c){return a(c,b)}}function db(a){var b=new G;f(a||[]).flatten().each(function(a){b.add(a)});return b}function na(a,b){return a===b?0:a>b?1:-1}function R(a,b){for(var c=-1,e=a.length;++c<e;)if(!1===b(a[c],c))return!1;return!0}function eb(a){var b;a.each(function(a){b=a;return!1});return b}function A(a,b){var c=-1,e=a.length;if(b!==b){for(;++c<e;)if(a[c]!==a[c])return!0;return!1}for(;++c<e;)if(a[c]===b)return!0;return!1}function ma(a){return eval(""+a+(a.global?"":"g"))}function G(){this.table={};this.objects=[]}function Za(a){this.contents=Array(a);this.count=this.start=0}function oa(a,b,c){var e=function(){};e.prototype=new a;for(var g in c)e.prototype[g]=c[g];c=function(){var a=new e;a.parent=this;a.init&&a.init.apply(a,arguments);return a};b="string"===typeof b?[b]:b;for(g=0;g<b.length;++g)a.prototype[b[g]]=c;return e}f.VERSION="0.5.1";f.noop=function(){};f.identity=function(a){return a};f.equality=function(a,b){return a===b};f.strict=function(){function a(a){if(null==a)throw Error("You cannot wrap null or undefined using Lazy.");if("number"===typeof a||"boolean"===typeof a)throw Error("You cannot wrap primitive values using Lazy.");return f(a)}f(f).each(function(b,c){a[c]=b});return a};d.define=function(a,b){if(!b||!b.getIterator&&!b.each)throw Error("A custom sequence must implement *at least* getIterator or each!");return oa(d,a,b)};d.prototype.size=function(){return this.getIndex().length()};d.prototype.getIterator=function(){return new x(this)};d.prototype.root=function(){return this.parent.root()};d.prototype.isAsync=function(){return this.parent?this.parent.isAsync():!1};d.prototype.value=function(){return this.toArray()};d.prototype.apply=function(a){var b=this.root(),c=b.source;try{b.source=a;var e=this.value()}finally{b.source=c}return e};x.prototype.current=function(){return this.cachedIndex&&this.cachedIndex.get(this.index)};x.prototype.moveNext=function(){var a=this.cachedIndex;a||(a=this.cachedIndex=this.sequence.getIndex());if(this.index>=a.length()-1)return!1;++this.index;return!0};d.prototype.toArray=function(){return this.reduce(function(a,b){a.push(b);return a},[])};d.prototype.equals=function(a,b){if(!(a instanceof d))return!1;for(var c=this.getIterator(),e=a.getIterator(),g=b||f.equality;c.moveNext();)if(!e.moveNext()||!g(c.current(),e.current()))return!1;return!e.moveNext()};d.prototype.getIndex=function(){return new w(this.toArray())};d.prototype.get=function(a){var b;this.each(function(c,e){if(e===a)return b=c,!1});return b};d.prototype.memoize=function(){return new p(this)};d.prototype.toObject=function(){return this.reduce(function(a,b){a[b[0]]=b[1];return a},{})};d.prototype.each=function(a){for(var b=this.getIterator(),c=-1;b.moveNext();)if(!1===a(b.current(),++c))return!1;return!0};d.prototype.forEach=function(a){return this.each(a)};d.prototype.map=function(a){return new h(this,r(a))};d.prototype.collect=function(a){return this.map(a)};h.prototype=Object.create(d.prototype);h.prototype.getIterator=function(){return new L(this.parent,this.mapFn)};h.prototype.each=function(a){var b=this.mapFn;return this.parent.each(function(c,e){return a(b(c,e),e)})};L.prototype.current=function(){return this.mapFn(this.iterator.current(),this.index)};L.prototype.moveNext=function(){return this.iterator.moveNext()?(++this.index,!0):!1};d.prototype.pluck=function(a){return this.map(a)};d.prototype.invoke=function(a){return this.map(function(b){return b[a]()})};d.prototype.filter=function(a){return new z(this,r(a))};d.prototype.select=function(a){return this.filter(a)};z.prototype=Object.create(d.prototype);z.prototype.getIterator=function(){return new M(this.parent,this.filterFn)};z.prototype.each=function(a){var b=this.filterFn,c=0;return this.parent.each(function(e,g){if(b(e,g))return a(e,c++)})};z.prototype.reverse=function(){return this.parent.reverse().filter(this.filterFn)};M.prototype.current=function(){return this.value};M.prototype.moveNext=function(){for(var a=this.iterator,b=this.filterFn,c;a.moveNext();)if(c=a.current(),b(c,this.index++))return this.value=c,!0;this.value=void 0;return!1};d.prototype.reject=function(a){a=r(a);return this.filter(function(b){return!a(b)})};d.prototype.ofType=function(a){return this.filter(function(b){return typeof b===a})};d.prototype.where=function(a){return this.filter(a)};d.prototype.reverse=function(){return new N(this)};N.prototype=Object.create(d.prototype);N.prototype.getIterator=function(){return new B(this.parent)};B.prototype.current=function(){return this.getIndex().get(this.index)};B.prototype.moveNext=function(){var a=this.getIndex().length();"undefined"===typeof this.index&&(this.index=a);return 0<=--this.index};B.prototype.getIndex=function(){this.cachedIndex||(this.cachedIndex=this.sequence.getIndex());return this.cachedIndex};d.prototype.concat=function(a){return new k(this,K.call(arguments,0))};k.prototype=Object.create(d.prototype);k.prototype.each=function(a){var b=!1,c=0;this.parent.each(function(e){if(!1===a(e,c++))return b=!0,!1});b||f(this.arrays).flatten(!0).each(function(b){if(!1===a(b,c++))return!1})};d.prototype.first=function(a){return"undefined"===typeof a?eb(this):new t(this,a)};d.prototype.head=d.prototype.take=function(a){return this.first(a)};t.prototype=Object.create(d.prototype);t.prototype.getIterator=function(){return new S(this.parent,this.count)};t.prototype.each=function(a){var b=this.count,c=0,e,g=this.parent.each(function(g){c<b&&(e=a(g,c++));return c>=b?!1:e});return g instanceof v?g:c===b&&!1!==e};S.prototype.current=function(){return this.iterator.current()};S.prototype.moveNext=function(){return 0<=--this.count&&this.iterator.moveNext()};d.prototype.takeWhile=function(a){return new pa(this,a)};pa.prototype=Object.create(d.prototype);pa.prototype.each=function(a){var b=this.predicate,c=!1,e=0,g=this.parent.each(function(g,d){return b(g,d)?a(g,e++):(c=!0,!1)});return g instanceof v?g:c};d.prototype.initial=function(a){return new qa(this,a)};qa.prototype=Object.create(d.prototype);qa.prototype.each=function(a){var b=this.parent.getIndex();return b.take(b.length()-this.count).each(a)};d.prototype.last=function(a){return"undefined"===typeof a?this.reverse().first():this.reverse().take(a).reverse()};d.prototype.findWhere=function(a){return this.where(a).first()};d.prototype.rest=function(a){return new ra(this,a)};d.prototype.skip=d.prototype.tail=d.prototype.drop=function(a){return this.rest(a)};ra.prototype=Object.create(d.prototype);ra.prototype.each=function(a){var b=this.count,c=0,e=0;return this.parent.each(function(g){if(!(c++<b))return a(g,e++)})};d.prototype.dropWhile=function(a){return new sa(this,a)};d.prototype.skipWhile=function(a){return this.dropWhile(a)};sa.prototype=Object.create(d.prototype);sa.prototype.each=function(a){var b=this.predicate,c=!1;return this.parent.each(function(e){if(!c){if(b(e))return;c=!0}return a(e)})};d.prototype.sort=function(a,b){a||(a=na);b&&(a=Ya(a));return new O(this,a)};d.prototype.sortBy=function(a,b){a=bb(a);b&&(a=Ya(a));return new O(this,a)};O.prototype=Object.create(d.prototype);O.prototype.each=function(a){var b=this.sortFn,c=this.parent.toArray();c.sort(b);return R(c,a)};O.prototype.reverse=function(){return new O(this.parent,Ya(this.sortFn))};d.prototype.groupBy=function(a,b){return new ta(this,a,b)};d.prototype.indexBy=function(a,b){return new ua(this,a,b)};d.prototype.countBy=function(a){return new va(this,a)};d.prototype.uniq=function(a){return new P(this,a)};d.prototype.unique=function(a){return this.uniq(a)};P.prototype=Object.create(d.prototype);P.prototype.each=function(a){var b=new G,c=this.keyFn,e=0;return c?(c=r(c),this.parent.each(function(g){if(b.add(c(g)))return a(g,e++)})):this.parent.each(function(c){if(b.add(c))return a(c,e++)})};d.prototype.zip=function(a){return 1===arguments.length?new Fa(this,a):new wa(this,K.call(arguments,0))};wa.prototype=Object.create(d.prototype);wa.prototype.each=function(a){var b=this.arrays,c=0;if(!this.parent.each(function(e){e=[e];for(var g=0;g<b.length;++g)e.push(b[g][c]);return a(e,c++)}))return!1;for(var e,g=!0;g;){g=!1;e=[void 0];for(var d=0;d<b.length;++d)e.push(b[d][c]),b[d].length>c&&(g=!0);if(g&&!1===a(e,c++))return!1}return!0};d.prototype.shuffle=function(){return new xa(this)};xa.prototype=Object.create(d.prototype);xa.prototype.each=function(a){for(var b=this.parent.toArray(),c=Math.floor,e=Math.random,g=0,d=b.length-1;0<d;--d){var f=b,k=c(e()*(d+1)),h=f[d];f[d]=f[k];f[k]=h;if(!1===a(b[d],g++))return!1}b.length&&a(b[0],g);return!0};d.prototype.flatten=function(a){return new ba(this,a)};ba.prototype=Object.create(d.prototype);ba.prototype.eachShallow=function(a){var b=0;return this.parent.each(function(c){return y(c)?R(c,function(c){return a(c,b++)}):c instanceof d?c.each(function(c){return a(c,b++)}):a(c,b++)})};ba.prototype.eachRecursive=function(a){var b=0;return this.parent.each(function g(e){return y(e)?R(e,g):e instanceof d?e.each(g):a(e,b++)})};d.prototype.compact=function(){return this.filter(function(a){return!!a})};d.prototype.without=function(a){return new ya(this,K.call(arguments,0))};d.prototype.difference=function(a){return this.without.apply(this,arguments)};ya.prototype=Object.create(d.prototype);ya.prototype.each=function(a){var b=db(this.values),c=0;return this.parent.each(function(e){if(!b.contains(e))return a(e,c++)})};d.prototype.union=function(a){return this.concat(a).uniq()};d.prototype.intersection=function(a){return 1===arguments.length&&y(arguments[0])?new Q(this,a):new za(this,K.call(arguments,0))};za.prototype=Object.create(d.prototype);za.prototype.each=function(a){var b=f(this.arrays).map(function(a){return new F(f(a).getIterator())}),c=new F(b.getIterator()),e=0;return this.parent.uniq().each(function(b){var d=!0;c.each(function(a){if(!a.contains(b))return d=!1});if(d)return a(b,e++)})};Aa.prototype.current=function(){return this.currentValue};Aa.prototype.moveNext=function(){var a=this.iterator,b=this.memo;return this.currentIndex<b.length?(this.currentValue=b[this.currentIndex++],!0):a.moveNext()?(this.currentValue=b[this.currentIndex++]=a.current(),!0):!1};F.prototype.current=function(){return this.currentValue};F.prototype.moveNext=function(){for(var a=this.iterator,b=this.set,c=this.memo,e;a.moveNext();)if(e=a.current(),b.add(e))return c.push(e),this.currentValue=e,!0;return!1};F.prototype.each=function(a){for(var b=this.memo,c=b.length,e=-1;++e<c;)if(!1===a(b[e],e))return!1;for(;this.moveNext()&&!1!==a(this.currentValue,e++););};F.prototype.contains=function(a){if(this.set.contains(a))return!0;for(;this.moveNext();)if(this.currentValue===a)return!0;return!1};d.prototype.every=function(a){a=r(a);return this.each(function(b,c){return!!a(b,c)})};d.prototype.all=function(a){return this.every(a)};d.prototype.some=function(a){a=r(a,!0);var b=!1;this.each(function(c){if(a(c))return b=!0,!1});return b};d.prototype.any=function(a){return this.some(a)};d.prototype.none=function(a){return!this.any(a)};d.prototype.isEmpty=function(){return!this.any()};d.prototype.indexOf=function(a,b){var c=b||f.equality,e=-1;this.each(function(b,d){if(c(b,a))return e=d,!1});return e};d.prototype.lastIndexOf=function(a,b){var c=this.getIndex().reverse(),e=c.indexOf(a,b);-1!==e&&(e=c.length()-e-1);return e};d.prototype.sortedIndex=function(a){for(var b=this.getIndex(),c=0,e=b.length(),d;c<e;)d=c+e>>>1,-1===na(b.get(d),a)?c=d+1:e=d;return c};d.prototype.contains=function(a,b){return-1!==this.indexOf(a,b)};d.prototype.reduce=function(a,b){if(2>arguments.length)return this.tail().reduce(a,this.head());var c=this.each(function(c,d){b=a(b,c,d)});return c instanceof v?c.then(function(){return b}):b};d.prototype.inject=d.prototype.foldl=function(a,b){return this.reduce(a,b)};d.prototype.reduceRight=function(a,b){if(2>arguments.length)return this.initial(1).reduceRight(a,this.last());var c=this.getIndex(),e=c.length()-1;return c.reverse().reduce(function(b,c){return a(b,c,e--)},b)};d.prototype.foldr=function(a,b){return this.reduceRight(a,b)};d.prototype.consecutive=function(a){return new Ba(this,a)};Ba.prototype=Object.create(d.prototype);Ba.prototype.each=function(a){var b=this.count,c=new Za(b);return this.parent.map(function(a){if(c.add(a).count===b)return c.toArray()}).compact().each(a)};d.prototype.chunk=function(a){if(1>a)throw Error("You must specify a positive chunk size.");return new Ca(this,a)};Ca.prototype=Object.create(d.prototype);Ca.prototype.getIterator=function(){return new Da(this.parent,this.chunkSize)};Da.prototype.current=function(){return this.currentChunk};Da.prototype.moveNext=function(){for(var a=this.iterator,b=this.size,c=[];c.length<b&&a.moveNext();)c.push(a.current());if(0===c.length)return!1;this.currentChunk=c;return!0};d.prototype.tap=function(a){return new Ea(this,a)};Ea.prototype=Object.create(d.prototype);Ea.prototype.each=function(a){var b=this.callback;return this.parent.each(function(c,e){b(c,e);return a(c,e)})};d.prototype.find=function(a){return this.filter(a).first()};d.prototype.detect=function(a){return this.find(a)};d.prototype.min=function(a){return"undefined"!==typeof a?this.minBy(a):this.reduce(function(a,c,e){return"undefined"===typeof a?c:c<a?c:a})};d.prototype.minBy=function(a){a=r(a);return this.reduce(function(b,c){return a(c)<a(b)?c:b})};d.prototype.max=function(a){return"undefined"!==typeof a?this.maxBy(a):this.reduce(function(a,c,e){return"undefined"===typeof a?c:c>a?c:a})};d.prototype.maxBy=function(a){a=r(a);return this.reduce(function(b,c){return a(c)>a(b)?c:b})};d.prototype.sum=function(a){return"undefined"!==typeof a?this.sumBy(a):this.reduce(function(a,c){return a+c},0)};d.prototype.sumBy=function(a){a=r(a);return this.reduce(function(b,c){return b+a(c)},0)};d.prototype.join=function(a){a="undefined"===typeof a?",":String(a);var b=-1;return this.reduce(function(c,e){0<++b&&(c+=a);return c+e},"")};d.prototype.toString=function(a){return this.join(a)};d.prototype.async=function(a){return new u(this,a)};Q.prototype=Object.create(d.prototype);Q.prototype.eachMemoizerCache=function(a){var b=new F(f(this.array).getIterator()),c=0;return this.parent.uniq().each(function(e){if(b.contains(e))return a(e,c++)})};Q.prototype.eachArrayCache=function(a){var b=this.array,c=0;return this.parent.uniq().each(function(e){if(A(b,e))return a(e,c++)})};Fa.prototype=Object.create(d.prototype);Fa.prototype.each=function(a){var b=this.array,c=-1;if(!this.parent.each(function(e){++c;return a([e,b[c]],c)}))return!1;for(;++c<b.length;)if(!1===a([void 0,b[c]],c))return!1;return!0};n.prototype=Object.create(d.prototype);n.define=function(a,b){if(!b||"function"!==typeof b.get)throw Error("A custom array-like sequence must implement *at least* get!");return oa(n,a,b)};n.prototype.get=function(a){return this.parent.get(a)};n.prototype.length=function(){return this.parent.length()};n.prototype.getIndex=function(){return this};n.prototype.getIterator=function(){return new Ga(this)};Ga.prototype.current=function(){return this.sequence.get(this.index)};Ga.prototype.moveNext=function(){if(this.index>=this.sequence.length()-1)return!1;++this.index;return!0};n.prototype.each=function(a){for(var b=this.length(),c=-1;++c<b;)if(!1===a(this.get(c),c))return!1;return!0};n.prototype.push=function(a){return this.concat([a])};n.prototype.pop=function(){return this.initial()};n.prototype.unshift=function(a){return f([a]).concat(this)};n.prototype.shift=function(){return this.drop()};n.prototype.slice=function(a,b){var c=this.length();0>a&&(a=c+a);var e=this.drop(a);"number"===typeof b&&(0>b&&(b=c+b),e=e.take(b-a));return e};n.prototype.map=function(a){return new T(this,r(a))};T.prototype=Object.create(n.prototype);T.prototype.get=function(a){if(!(0>a||a>=this.parent.length()))return this.mapFn(this.parent.get(a),a)};n.prototype.filter=function(a){return new Ha(this,r(a))};Ha.prototype=Object.create(z.prototype);Ha.prototype.each=function(a){for(var b=this.parent,c=this.filterFn,e=this.parent.length(),d=-1,f=0,k;++d<e;)if(k=b.get(d),c(k,d)&&!1===a(k,f++))return!1;return!0};n.prototype.reverse=function(){return new U(this)};U.prototype=Object.create(n.prototype);U.prototype.get=function(a){return this.parent.get(this.length()-a-1)};n.prototype.first=function(a){return"undefined"===typeof a?this.get(0):new Ia(this,a)};Ia.prototype=Object.create(n.prototype);Ia.prototype.length=function(){var a=this.parent.length();return this.count<=a?this.count:a};n.prototype.rest=function(a){return new ca(this,a)};ca.prototype=Object.create(n.prototype);ca.prototype.get=function(a){return this.parent.get(this.count+a)};ca.prototype.length=function(){var a=this.parent.length();return this.count<=a?a-this.count:0};n.prototype.concat=function(a){return 1===arguments.length&&y(arguments[0])?new da(this,a):d.prototype.concat.apply(this,arguments)};da.prototype=Object.create(n.prototype);da.prototype.get=function(a){var b=this.parent.length();return a<b?this.parent.get(a):this.other[a-b]};da.prototype.length=function(){return this.parent.length()+this.other.length};n.prototype.uniq=function(a){return new V(this,r(a))};V.prototype=Object.create(d.prototype);V.prototype.eachArrayCache=function(a){for(var b=this.parent,c=this.keyFn,e=b.length(),d=[],f,k,h=-1,l=0;++h<e;)if(k=b.get(h),f=c(k),!A(d,f)&&(d.push(f),!1===a(k,l++)))return!1};V.prototype.eachSetCache=P.prototype.each;p.prototype=Object.create(d.prototype);p.prototype.getParentIterator=function(){this.iterator||(this.iterator=this.parent.getIterator());return this.iterator};p.prototype.getIterator=function(){return new Aa(this.memo,this.getParentIterator())};p.prototype.iterateTo=function(a){for(var b=this.memo,c=this.getParentIterator();a>=b.length;){if(!c.moveNext())return this.complete=!0,!1;b.push(c.current())}return!0};p.prototype.get=function(a){var b=this.memo;if(a<b.length||this.iterateTo(a))return b[a]};p.prototype.length=function(){this.complete||this.iterateTo(Infinity);return this.memo.length};p.prototype.slice=function(a,b){this.complete||this.iterateTo(b);return f(this.memo.slice(a,b))};p.prototype.toArray=function(){this.complete||this.iterateTo(Infinity);return this.memo.slice(0)};w.prototype=Object.create(n.prototype);w.prototype.root=function(){return this};w.prototype.isAsync=function(){return!1};w.prototype.get=function(a){return this.source[a]};w.prototype.length=function(){return this.source.length};w.prototype.each=function(a){return R(this.source,a)};w.prototype.map=function(a){return new W(this,r(a))};w.prototype.filter=function(a){return new Ja(this,r(a))};w.prototype.uniq=function(a){return new C(this,a)};w.prototype.concat=function(a){return 1===arguments.length&&y(arguments[0])?new X(this,a):n.prototype.concat.apply(this,arguments)};w.prototype.toArray=function(){return this.source.slice(0)};W.prototype=Object.create(n.prototype);W.prototype.get=function(a){var b=this.parent.source;if(!(0>a||a>=b.length))return this.mapFn(b[a])};W.prototype.length=function(){return this.parent.source.length};W.prototype.each=function(a){for(var b=this.parent.source,c=b.length,e=this.mapFn,d=-1;++d<c;)if(!1===a(e(b[d],d),d))return!1;return!0};Ja.prototype=Object.create(z.prototype);Ja.prototype.each=function(a){for(var b=this.parent.source,c=this.filterFn,e=b.length,d=-1,f=0,k;++d<e;)if(k=b[d],c(k,d)&&!1===a(k,f++))return!1;return!0};C.prototype=Object.create(d.prototype);C.prototype.eachNoCache=function(a){for(var b=this.parent.source,c=this.keyFn,e=b.length,d,f=-1,k=0;++f<e;){d=b[f];a:{var h=b;var l=d,t=f,n=c,q=-1;if(n)for(n=r(n);++q<t;){if(n(h[q])===n(l)){h=!0;break a}}else for(;++q<t;)if(h[q]===l){h=!0;break a}h=!1}if(!h&&!1===a(d,k++))return!1}return!0};C.prototype.eachArrayCache=function(a){var b=this.parent.source,c=this.keyFn,e=b.length,d=[],f=-1,k=0;if(c)for(c=r(c);++f<e;){var h=b[f];var l=c(h);if(!A(d,l)&&(d.push(l),!1===a(h,k++)))return!1}else for(;++f<e;)if(h=b[f],!A(d,h)&&(d.push(h),!1===a(h,k++)))return!1;return!0};C.prototype.eachSetCache=P.prototype.each;X.prototype=Object.create(n.prototype);X.prototype.get=function(a){var b=this.parent.source,c=b.length;return a<c?b[a]:this.other[a-c]};X.prototype.length=function(){return this.parent.source.length+this.other.length};X.prototype.each=function(a){for(var b=this.parent.source,c=b.length,e=this.other,d=e.length,f=0,k=-1;++k<c;)if(!1===a(b[k],f++))return!1;for(k=-1;++k<d;)if(!1===a(e[k],f++))return!1;return!0};l.prototype=Object.create(d.prototype);l.define=function(a,b){if(!b||"function"!==typeof b.each)throw Error("A custom object-like sequence must implement *at least* each!");return oa(l,a,b)};l.prototype.value=function(){return this.toObject()};l.prototype.get=function(a){var b=this.pairs().find(function(b){return String(b[0])===String(a)});return b?b[1]:void 0};l.prototype.keys=function(){return new Ka(this)};Ka.prototype=Object.create(d.prototype);Ka.prototype.each=function(a){var b=-1;return this.parent.each(function(c,e){return a(e,++b)})};l.prototype.values=function(){return new La(this)};La.prototype=Object.create(d.prototype);La.prototype.each=function(a){var b=-1;return this.parent.each(function(c,e){return a(c,++b)})};l.prototype.async=function(){throw Error("An ObjectLikeSequence does not support asynchronous iteration.");};l.prototype.filter=function(a){return new Ma(this,r(a))};Ma.prototype=Object.create(l.prototype);Ma.prototype.each=function(a){var b=this.filterFn;return this.parent.each(function(c,e){if(b(c,e))return a(c,e)})};l.prototype.reverse=function(){return this};l.prototype.assign=function(a){return new ea(this,a)};l.prototype.extend=function(a){return this.assign(a)};ea.prototype=Object.create(l.prototype);ea.prototype.get=function(a){return a in this.other?this.other[a]:this.parent.get(a)};ea.prototype.each=function(a){var b=new G,c=!1;f(this.other).each(function(e,d){if(!1===a(e,d))return c=!0,!1;b.add(d)});if(!c)return this.parent.each(function(c,d){if(!b.contains(d)&&!1===a(c,d))return!1})};l.prototype.defaults=function a(a){return new fa(this,a)};fa.prototype=Object.create(l.prototype);fa.prototype.get=function(a){var b=this.parent.get(a);return void 0!==b?b:this.defaultValues[a]};fa.prototype.each=function(a){var b=new G,c=!1;this.parent.each(function(e,d){if(!1===a(e,d))return c=!0,!1;"undefined"!==typeof e&&b.add(d)});c||f(this.defaultValues).each(function(c,d){if(!b.contains(d)&&!1===a(c,d))return!1})};l.prototype.invert=function(){return new Na(this)};Na.prototype=Object.create(l.prototype);Na.prototype.each=function(a){this.parent.each(function(b,c){return a(c,b)})};l.prototype.merge=function(a){var b=1<arguments.length&&"function"===typeof arguments[arguments.length-1]?hb.call(arguments):null;return new Oa(this,K.call(arguments,0),b)};Oa.prototype=Object.create(l.prototype);Oa.prototype.each=function(a){var b=this.others,c=this.mergeFn||$a,e={};if(!1===this.parent.each(function(d,f){var g=d;R(b,function(a){f in a&&(g=c(g,a[f]))});e[f]=!0;return a(g,f)}))return!1;var d={};R(b,function(a){for(var b in a)e[b]||(d[b]=c(d[b],a[b]))});return f(d).each(a)};l.prototype.functions=function(){return this.filter(function(a,b){return"function"===typeof a}).map(function(a,b){return b})};l.prototype.methods=function(){return this.functions()};l.prototype.pick=function(a){return new ha(this,a)};ha.prototype=Object.create(l.prototype);ha.prototype.get=function(a){return A(this.properties,a)?this.parent.get(a):void 0};ha.prototype.each=function(a){var b=this.properties;return this.parent.each(function(c,e){if(A(b,e))return a(c,e)})};l.prototype.omit=function(a){return new ia(this,a)};ia.prototype=Object.create(l.prototype);ia.prototype.get=function(a){return A(this.properties,a)?void 0:this.parent.get(a)};ia.prototype.each=function(a){var b=this.properties;return this.parent.each(function(c,e){if(!A(b,e))return a(c,e)})};l.prototype.pairs=function(){return this.map(function(a,b){return[b,a]})};l.prototype.toArray=function(){return this.pairs().toArray()};l.prototype.toObject=function(){return this.reduce(function(a,b,c){a[c]=b;return a},{})};ta.prototype=Object.create(l.prototype);ta.prototype.each=function(a){var b=r(this.keyFn),c=r(this.valFn);var e=this.parent.reduce(function(a,e){var d=b(e),f=c(e);y(a[d])?a[d].push(f):a[d]=[f];return a},{});return cb(function(b){for(var c in b)if(!1===a(b[c],c))return!1;return!0},e)};ua.prototype=Object.create(l.prototype);ua.prototype.each=function(a){var b=r(this.keyFn),c=r(this.valFn),e={};return this.parent.each(function(d){var f=b(d);d=c(d);if(!e[f])return e[f]=d,a(d,f)})};va.prototype=Object.create(l.prototype);va.prototype.each=function(a){var b=r(this.keyFn),c={};this.parent.each(function(a){a=b(a);c[a]=c[a]?c[a]+1:1});for(var e in c)if(!1===a(c[e],e))return!1;return!0};l.prototype.watch=function(a){throw Error("You can only call #watch on a directly wrapped object.");};E.prototype=Object.create(l.prototype);E.prototype.root=function(){return this};E.prototype.isAsync=function(){return!1};E.prototype.get=function(a){return this.source[a]};E.prototype.each=function(a){var b=this.source,c=b?Object.keys(b):[],e=c.length,d;for(d=0;d<e;++d){var f=c[d];if(!1===a(b[f],f))return!1}return!0};q.prototype=Object.create(n.prototype);q.define=function(a,b){if(!b||"function"!==typeof b.get)throw Error("A custom string-like sequence must implement *at least* get!");return oa(q,a,b)};q.prototype.value=function(){return this.toString()};q.prototype.getIterator=function(){return new Y(this)};Y.prototype.current=function(){return this.source.charAt(this.index)};Y.prototype.moveNext=function(){return++this.index<this.source.length()};q.prototype.charAt=function(a){return this.get(a)};q.prototype.charCodeAt=function(a){return(a=this.charAt(a))?a.charCodeAt(0):NaN};q.prototype.substring=function(a,b){return new ja(this,a,b)};ja.prototype=Object.create(q.prototype);ja.prototype.get=function(a){return this.parent.get(a+this.start)};ja.prototype.length=function(){return("number"===typeof this.stop?this.stop:this.parent.length())-this.start};q.prototype.first=function(a){return"undefined"===typeof a?this.charAt(0):this.substring(0,a)};q.prototype.last=function(a){return"undefined"===typeof a?this.charAt(this.length()-1):this.substring(this.length()-a)};q.prototype.drop=function(a){return this.substring(a)};q.prototype.indexOf=function(a,b){return this.toString().indexOf(a,b)};q.prototype.lastIndexOf=function(a,b){return this.toString().lastIndexOf(a,b)};q.prototype.contains=function(a){return-1!==this.indexOf(a)};q.prototype.endsWith=function(a){return this.substring(this.length()-a.length).toString()===a};q.prototype.startsWith=function(a){return this.substring(0,a.length).toString()===a};q.prototype.toUpperCase=function(){return this.mapString(function(a){return a.toUpperCase()})};q.prototype.toLowerCase=function(){return this.mapString(function(a){return a.toLowerCase()})};q.prototype.mapString=function(a){return new ka(this,a)};ka.prototype=Object.create(q.prototype);ka.prototype.get=T.prototype.get;ka.prototype.length=T.prototype.length;q.prototype.reverse=function(){return new la(this)};la.prototype=Object.create(q.prototype);la.prototype.get=U.prototype.get;la.prototype.length=U.prototype.length;q.prototype.toString=function(){return this.join("")};q.prototype.match=function(a){return new Pa(this,a)};Pa.prototype=Object.create(d.prototype);Pa.prototype.getIterator=function(){return new Qa(this.parent.toString(),this.pattern)};Qa.prototype.current=function(){return this.match[0]};Qa.prototype.moveNext=function(){return!!(this.match=this.pattern.exec(this.source))};q.prototype.split=function(a){return new Ra(this,a)};Ra.prototype=Object.create(d.prototype);Ra.prototype.getIterator=function(){var a=this.parent.toString();return this.pattern instanceof RegExp?""===this.pattern.source||"(?:)"===this.pattern.source?new Y(a):new Sa(a,this.pattern):""===this.pattern?new Y(a):new Ta(a,this.pattern)};Sa.prototype.current=function(){return this.source.substring(this.start,this.end)};Sa.prototype.moveNext=function(){if(!this.pattern)return!1;var a=this.pattern.exec(this.source);return a?(this.start=this.nextStart?this.nextStart:0,this.end=a.index,this.nextStart=a.index+a[0].length,!0):this.pattern?(this.start=this.nextStart,this.pattern=this.nextStart=this.end=void 0,!0):!1};Ta.prototype.current=function(){return this.source.substring(this.leftIndex,this.rightIndex)};Ta.prototype.moveNext=function(){this.finished||(this.leftIndex="undefined"!==typeof this.leftIndex?this.rightIndex+this.delimiter.length:0,this.rightIndex=this.source.indexOf(this.delimiter,this.leftIndex));return-1===this.rightIndex?(this.finished=!0,this.rightIndex=void 0,!0):!this.finished};D.prototype=Object.create(q.prototype);D.prototype.root=function(){return this};D.prototype.isAsync=function(){return!1};D.prototype.get=function(a){return this.source.charAt(a)};D.prototype.length=function(){return this.source.length};D.prototype.toString=function(){return this.source};H.prototype=Object.create(d.prototype);H.prototype.isAsync=function(){return!1};H.prototype.length=function(){return this.fixedLength};H.prototype.each=function(a){for(var b=this.get,c=this.fixedLength,d=0;"undefined"===typeof c||d<c;)if(!1===a(b(d),d++))return!1;return!0};H.prototype.getIterator=function(){return new Ua(this)};Ua.prototype.current=function(){return this.currentValue};Ua.prototype.moveNext=function(){var a=this.sequence;if("number"===typeof a.fixedLength&&this.index>=a.fixedLength)return!1;this.currentValue=a.get(this.index++);return!0};u.prototype=Object.create(d.prototype);u.prototype.isAsync=function(){return!0};u.prototype.getIterator=function(){throw Error("An AsyncSequence does not support synchronous iteration.");};u.prototype.each=function(a){var b=this.parent.getIterator(),c=this.onNextCallback,d=this.cancelCallback,f=0,k=new v(function(){h&&d(h)}),h=c(function fb(){h=null;try{b.moveNext()&&!1!==a(b.current(),f++)?h=c(fb):k._resolve()}catch(gb){k._reject(gb)}});return k};var I=1;v.prototype.then=function(a,b){var c=new v(this.cancelFn);this.resolveListeners.push(function(b){try{"function"!==typeof a?Z(c,b):Z(c,a(b))}catch(g){c._reject(g)}});this.rejectListeners.push(function(a){try{"function"!==typeof b?c._reject(a):Z(c,b(a))}catch(g){c._reject(g)}});2===this.state&&this._resolve(this.value);3===this.state&&this._reject(this.reason);return c};v.prototype._resolve=function(a){3!==this.state&&(this.state===I&&(this.state=2,this.value=a),Va(this.resolveListeners,this.value))};v.prototype._reject=function(a){2!==this.state&&(this.state===I&&(this.state=3,this.reason=a),Va(this.rejectListeners,this.reason))};v.prototype.cancel=function(){this.cancelFn&&(this.cancelFn(),this.cancelFn=null,this._resolve(!1))};v.prototype.onComplete=function(a){this.resolveListeners.push(a);return this};v.prototype.onError=function(a){this.rejectListeners.push(a);return this};u.prototype.reverse=function(){return this.parent.reverse().async()};u.prototype.find=function(a){var b;return this.each(function(c,d){if(a(c,d))return b=c,!1}).then(function(){return b})};u.prototype.indexOf=function(a){var b=-1;return this.each(function(c,d){if(c===a)return b=d,!1}).then(function(){return b})};u.prototype.contains=function(a){var b=!1;return this.each(function(c){if(c===a)return b=!0,!1}).then(function(){return b})};u.prototype.async=function(){return this};E.prototype.watch=function(a){return new Wa(this.source,a)};Wa.prototype=Object.create(u.prototype);Wa.prototype.each=function(a){this.listeners.push(a)};J.prototype=Object.create(u.prototype);J.prototype.isAsync=function(){return!0};J.prototype.split=function(a){return new aa(this,a)};aa.prototype=Object.create(d.prototype);aa.prototype.getEachForDelimiter=function(a){return a instanceof RegExp?this.regexEach:this.stringEach};aa.prototype.regexEach=function(a){var b=ma(this.delimiter),c="",d=0,f,k=0,h=this.parent.each(function(e){for(c+=e;e=b.exec(c);){f=e.index;if(!1===a(c.substring(d,f),k++))return!1;d=f+e[0].length}c=c.substring(d);d=0});h.onComplete(function(){0<c.length&&a(c,k++)});return h};aa.prototype.stringEach=function(a){var b=this.delimiter,c=0,d="",f=this.parent.each(function(e){for(d+=e;0<=(e=d.indexOf(b));){var f=d.substr(0,e);d=d.substr(e+b.length);if(!1===a(f,c++))return!1}return!0});f.onComplete(function(){a(d,c++)});return f};J.prototype.lines=function(){return this.split("\n")};J.prototype.match=function(a){return new Xa(this,a)};Xa.prototype=Object.create(u.prototype);Xa.prototype.each=function(a){var b=this.pattern,c=!1,d=0;return this.parent.each(function(e){f(e).match(b).each(function(b){if(!1===a(b,d++))return c=!0,!1});return!c})};f.createWrapper=function(a){var b=function(){this.listeners=[]};b.prototype=Object.create(J.prototype);b.prototype.each=function(a){this.listeners.push(a)};b.prototype.emit=function(a){for(var b=this.listeners,c=b.length-1;0<=c;--c)!1===b[c](a)&&b.splice(c,1)};return function(){var c=new b;a.apply(c,arguments);return c}};f.generate=function(a,b){return new H(a,b)};f.range=function(){var a=1<arguments.length?arguments[0]:0,b=1<arguments.length?arguments[1]:arguments[0],c=2<arguments.length&&arguments[2];!1===c&&(c=b>a?1:-1);return 0===c?f([]):f.generate(function(b){return a+c*b}).take(Math.ceil((b-a)/c))};f.repeat=function(a,b){return f.generate(function(){return a},b)};f.Sequence=d;f.ArrayLikeSequence=n;f.ObjectLikeSequence=l;f.StringLikeSequence=q;f.StreamLikeSequence=J;f.GeneratedSequence=H;f.AsyncSequence=u;f.AsyncHandle=v;f.clone=function(a){return f(a).value()};f.deprecate=function(a,b){return function(){console.warn(a);return b.apply(this,arguments)}};var y=Array.isArray||function(a){return a instanceof Array},hb=Array.prototype.pop,K=Array.prototype.slice;f.curry=function(a,b){function c(d){return d.length<b?function(){return c(d.concat(K.call(arguments,0)))}:a.apply(null,d)}b||(b=a.length);return c([])};f.curryRight=function(a,b){function c(d){return d.length<b?function(){return c(K.call(arguments,0).concat(d))}:a.apply(null,d)}b||(b=a.length);return c([])};f.createCallback=r;f.createComparator=bb;G.prototype.add=function(a){var b=this.table;switch(typeof a){case "number":case "boolean":case "undefined":return b[a]?!1:b[a]=!0;case "string":switch(a.charAt(0)){case "_":case "f":case "t":case "c":case "u":case "@":case "0":case "1":case "2":case "3":case "4":case "5":case "6":case "7":case "8":case "9":case "N":a="@"+a}return b[a]?!1:b[a]=!0;default:return b=this.objects,A(b,a)?!1:(b.push(a),!0)}};G.prototype.contains=function(a){switch(typeof a){case "number":case "boolean":case "undefined":return!!this.table[a];case "string":switch(a.charAt(0)){case "_":case "f":case "t":case "c":case "u":case "@":case "0":case "1":case "2":case "3":case "4":case "5":case "6":case "7":case "8":case "9":case "N":a="@"+a}return!!this.table[a];default:return A(this.objects,a)}};Za.prototype.add=function(a){var b=this.contents,c=b.length,d=this.start;this.count===c?(b[d]=a,this.start=(d+1)%c):b[this.count++]=a;return this};Za.prototype.toArray=function(){var a=this.contents,b=this.start,c=this.count;b=a.slice(b,b+c);b.length<c&&(b=b.concat(a.slice(0,c-b.length)));return b};return f});(function(m){function f(d){this.source=d}function d(d){this.source=d}function x(d,f){this.elements=d;this.eventName=f}function p(d){this.url=d}f.prototype=new m.ArrayLikeSequence;f.prototype.get=function(d){return this.source[d]};f.prototype.length=function(){return this.source.length};f.prototype.flatten=function(){return new d(this.source)};d.prototype=new m.Sequence;d.prototype.each=function(d){var f=0,h=!1;m(this.source).each(function(p){if(!1===d(p,f++))return!1;m(p.children).flatten().each(function(p){if(!1===d(p,f++))return h=!0,!1});if(h)return!1})};f.prototype.on=function(d){return new x(this.source,d)};x.prototype=new m.Sequence;x.prototype.each=function(d){for(var f=this.elements,h=this.eventName,p=function(m){if(!1===d(m))for(m=0;m<f.length;++m)f[m].removeEventListener(h,p)},m=0;m<f.length;++m)f[m].addEventListener(this.eventName,p)};m.events=m.deprecate("Lazy.events is deprecated. Use Lazy(element[s]).on('event') instead",function(d,f){return new x(d,f)});p.prototype=new m.StreamLikeSequence;p.prototype.each=function(d){var f=new XMLHttpRequest,h=0,p=!1;f.open("GET",this.url);var x=new m.AsyncHandle;f.addEventListener("progress",function t(k){if(!p){k=f.responseText.substring(h);try{!1===d(k)&&(f.removeEventListener("progress",t,!1),f.abort(),p=!0,x._resolve(!1)),h+=k.length}catch(S){x._reject(S)}}},!1);f.addEventListener("load",function(){x._resolve(!0)});f.send();return x};m.makeHttpRequest=function(d){return new p(d)};m.extensions||(m.extensions=[]);m.extensions.push(function(d){if(d instanceof NodeList||d instanceof HTMLCollection)return new f(d);if(d instanceof Element)return new f([d])})})(self.Lazy);(function(m){m(function(){function f(d){this._fn=d}function d(d){return new f(d)}function m(d){return f.isLazyArray(d)?d.fn()[0]:Array.isArray(d)?d[0]:void 0}function p(d){return f.isLazyArray(d)?d.fn()[1]:Array.isArray(d)?d.slice(1):[]}function h(d,h){return f.isLazyArray(h)?[d,h]:[d].concat(Array.isArray(h)?h:[])}function L(f,t){return d(function(){return 1<=f?h(m(t),L(f-1,p(t))):[]})}function z(f,t){return d(function(){for(var d;0<=f--;)d=m(t),t=p(t);return h(d,t)})}function M(d){for(var f=[],k;"undefined"!==typeof(k=m(d));)f.push(k),d=p(d);return f}function N(f,t){return d(function(){var d=m(t);return"undefined"!==typeof d?h(f(d),N(f,p(t))):[]})}function B(f,t){return d(function(){var d=m(t),k=p(t);return"undefined"!==typeof d?f(d)?h(d,B(f,k)):h(m(k),B(f,p(k))):[]})}f.prototype.fn=function(){this.hasOwnProperty("_cache")||(this._cache=this._fn());return this._cache};f.isLazyArray=function(d){return d instanceof f};return{LazyArray:f,create:d,first:m,rest:p,cons:h,second:function(d){return m(p(d))},take:L,drop:z,nth:function(d,f){return m(z(f,d))},all:M,last:function(d){d=M(d);return d[d.length-1]},map:N,filter:B,reduce:function(d,f,h){for(var k;"undefined"!==typeof(k=m(h));)f=d(f,k),h=p(h);return f}}})})(function(m){self.LazyArray=m()});/*sanctuary 2.0*/(function(){var $jscomp=$jscomp||{};$jscomp.scope={};$jscomp.arrayIteratorImpl=function(f){var n=0;return function(){return n<f.length?{done:!1,value:f[n++]}:{done:!0}}};$jscomp.arrayIterator=function(f){return{next:$jscomp.arrayIteratorImpl(f)}};$jscomp.ASSUME_ES5=!1;$jscomp.ASSUME_NO_NATIVE_MAP=!1;$jscomp.ASSUME_NO_NATIVE_SET=!1;$jscomp.SIMPLE_FROUND_POLYFILL=!1;$jscomp.defineProperty=$jscomp.ASSUME_ES5||"function"==typeof Object.defineProperties?Object.defineProperty:function(f,n,x){f!=Array.prototype&&f!=Object.prototype&&(f[n]=x.value)};$jscomp.getGlobal=function(f){return"undefined"!=typeof window&&window===f?f:"undefined"!=typeof global&&null!=global?global:f};$jscomp.global=$jscomp.getGlobal(this);$jscomp.SYMBOL_PREFIX="jscomp_symbol_";$jscomp.initSymbol=function(){$jscomp.initSymbol=function(){};$jscomp.global.Symbol||($jscomp.global.Symbol=$jscomp.Symbol)};$jscomp.SymbolClass=function(f,n){this.$jscomp$symbol$id_=f;$jscomp.defineProperty(this,"description",{configurable:!0,writable:!0,value:n})};$jscomp.SymbolClass.prototype.toString=function(){return this.$jscomp$symbol$id_};$jscomp.Symbol=function(){function f(x){if(this instanceof f)throw new TypeError("Symbol is not a constructor");return new $jscomp.SymbolClass($jscomp.SYMBOL_PREFIX+(x||"")+"_"+n++,x)}var n=0;return f}();$jscomp.initSymbolIterator=function(){$jscomp.initSymbol();var f=$jscomp.global.Symbol.iterator;f||(f=$jscomp.global.Symbol.iterator=$jscomp.global.Symbol("Symbol.iterator"));"function"!=typeof Array.prototype[f]&&$jscomp.defineProperty(Array.prototype,f,{configurable:!0,writable:!0,value:function(){return $jscomp.iteratorPrototype($jscomp.arrayIteratorImpl(this))}});$jscomp.initSymbolIterator=function(){}};$jscomp.initSymbolAsyncIterator=function(){$jscomp.initSymbol();var f=$jscomp.global.Symbol.asyncIterator;f||(f=$jscomp.global.Symbol.asyncIterator=$jscomp.global.Symbol("Symbol.asyncIterator"));$jscomp.initSymbolAsyncIterator=function(){}};$jscomp.iteratorPrototype=function(f){$jscomp.initSymbolIterator();f={next:f};f[$jscomp.global.Symbol.iterator]=function(){return this};return f};(function(){function f(n,x,w){function a(h,l){if(!x[h]){if(!n[h]){var c="function"==typeof require&&require;if(!l&&c)return c(h,!0);if(q)return q(h,!0);c=Error("Cannot find module '"+h+"'");throw c.code="MODULE_NOT_FOUND",c;}c=x[h]={exports:{}};n[h][0].call(c.exports,function(c){return a(n[h][1][c]||c)},c,c.exports,f,n,x,w)}return x[h].exports}for(var q="function"==typeof require&&require,l=0;l<w.length;l++)a(w[l]);return a}return f})()({1:[function(f,n,x){self.S=f("sanctuary")},{sanctuary:11}],2:[function(f,n,x){(function(w){(function(a){var q={inspect:{}};"object"===typeof n&&"object"===typeof n.exports?n.exports=a(f("util"),f("sanctuary-either"),f("sanctuary-show"),f("sanctuary-type-classes"),f("sanctuary-type-identifiers")):"function"===typeof define&&null!=define.amd?define(["sanctuary-either","sanctuary-show","sanctuary-type-classes","sanctuary-type-identifiers"],function(l,h,w,c){return a(q,l,h,w,c)}):self.sanctuaryDef=a(q,self.sanctuaryEither,self.sanctuaryShow,self.sanctuaryTypeClasses,self.sanctuaryTypeIdentifiers)})(function(a,q,l,h,f){function c(b){return function(a){return function(e){return b(a(e))}}}function n(b){return b}function v(b){return function(a){return b}}function x(b){return function(a){return b(a)(a)}}function Ma(b){return function(){return b}}function Q(b){return function(a,e){return b}}function z(b){return function(a){return!b(a)}}function J(b){return function(a){return h.filter(b,a)}}function A(b){return 0===h.size(b)}function p(b){return function(a){if(b.length>a.length)return!1;for(var e=0;e<b.length;e+=1)if(b[e]!==a[e])return!1;return!0}}function B(b,a){return a.join(b)}function R(b){return b[b.length-1]}function Y(b){return function(a){return b.some(function(b){return h.equals(b,a)})}}function I(b,a){return A(b)?a:b}function y(b){return function(a){return a[b]}}function ca(b){return function(a){return h.size(a)===b}}function ja(b){return function(a){return Array(a.length+1).join(b)}}function sa(b){return Object.keys(b).sort()}function F(b){return Array.isArray(b)?b:h.reduce(function(b,a){b.push(a);return b},[],b)}function T(b,a,e,k){return A(k)?b:h.reduce(function(b,a){return b+"  - "+e(a)+"\n"},a,k)}function fa(b){return b.replace(/[ ]+$/gm,"")}function U(b){return function(a){return function(e){return b?a(e):e}}}function r(b){return function(a){return function(e){return b+e+a}}}function G(b){return r(b("("))(b(")"))}function Z(b){return function(a){return function Ab(e){return e.supertypes.every(Ab)&&e._test(b)(a)}}}function S(b,a,e,k,g,H,d,t){var X=Object.create(Bb);X._test=d;X._extractors=t.reduce(function(b,a){b[a[0]]=a[1];return b},{});X.arity=k;X.extractors=h.map(c(F),X._extractors);X.format=g||function(b,e){return h.reduce(function(a,k){return a+b(" ")+U(0<k[2].arity)(G(b))(e(k[0])(l(k[2])))},b(a),t)};X.keys=t.map(function(b){return b[0]});X.name=a;X.supertypes=H;X.type=b;X.types=t.reduce(function(b,a){b[a[0]]=a[2];return b},{});X.url=e;return X}function Da(b){return function(a){return a.arity>=b}}function O(b){return function(a){return f(a)===b}}function na(b){return function(a){return typeof a===b}}function za(b){return"https://github.com/sanctuary-js/sanctuary-def/tree/v0.20.0#"+b}function Ea(b){return function(a){return Ja([b,a])}}function Ja(b){var a=h.reduce(function(b,a){b.push(["$"+l(b.length+1),v([]),a]);return b},[],b);return S("FUNCTION","","",b.length,function(b,e){return U(2!==a.length)(G(b))(B(b(", "),h.map(function(a){return U("FUNCTION"===a[2].type)(G(b))(e(a[0])(l(a[2])))},a.slice(0,-1))))+b(" -> ")+e(R(a)[0])(l(R(a)[2]))},[Qa],v(v(!0)),a)}function Fa(b){return 0!==b}function ma(b){return 0<b}function oa(b){return 0>b}function aa(b){return ka(b)("")([])(v(!0))}function Aa(b){return(b<ib.length?ib[b]:l(b))+" "+(1===b?"argument":"arguments")}function ta(b){return function(a){return function(e){return function(k){return function(g){return"UNKNOWN"===g.type?va(b,a,k(e)):[g]}}}}}function va(b,a,e){function k(e,k){if("object"===typeof k&&null!=k||"function"===typeof k){if(0<=a.indexOf(k))return[];var H=h.concat(a,[k])}else H=a;var t=g(H)(k);return h.chain(function(a){return a.validate(b)(k).isLeft?[]:"UNARY"===a.type?h.map(K(a),t(a.extractors.$1)(a.types.$1)):"BINARY"===a.type?h.lift2(m(a),t(a.extractors.$1)(a.types.$1),t(a.extractors.$2)(a.types.$2)):[a]},e)}var g=ta(b);return A(e)?[da]:I(h.reduce(k,b,e),[Cb])}function wa(b){return"UNARY"===b.type?wa(b.types.$1):"BINARY"===b.type?wa(b.types.$1)&&wa(b.types.$2):"INCONSISTENT"!==b.type}function Ga(b,a){return h.reject(function(b){return"INCONSISTENT"===b.type},va(b,[],a))}function V(b,a,e,k,g,H){var t={},d;for(d in a){var X=a[d],y={types:X.types.slice(),valuesByPath:{}},ba;for(ba in X.valuesByPath)y.valuesByPath[ba]=X.valuesByPath[ba].slice();t[d]=y}Wa.call(t,e.name)||(t[e.name]={types:h.filter(Da(e.arity),b),valuesByPath:{}});var r=JSON.stringify(h.concat([k],g));Wa.call(t[e.name].valuesByPath,r)||(t[e.name].valuesByPath[r]=[]);var l=pa(b),G=c(c(c(J(wa))))(ta(b)([]));H.forEach(function(b){var a=G(b);t[e.name].valuesByPath[r].push(b);t[e.name].types=h.chain(function(k){return l(k)(b)?0===e.arity&&"UNARY"===k.type?h.map(K(k),a(k.extractors.$1)(k.types.$1)):0===e.arity&&"BINARY"===k.type?h.lift2(m(k),a(k.extractors.$1)(k.types.$1),a(k.extractors.$2)(k.types.$2)):[k]:[]},t[e.name].types)});return t}function Ha(b,a){var e=h.map(JSON.parse,sa(a));return H(b,v(v(ha)),function(b){return function(k){return function(g){return function(g){var t=h.concat([b],g);return function(b){if(e.some(p(t))){var g=JSON.stringify(t);if(!Wa.call(a,g))return b;if(!A(a[g]))return k(b)}return ha(b)}}}}})}function xa(b,a,e,t,d,c,y){for(var X=xa,ba=0;ba<y.length;ba+=1){var r=t.validate(b)(y[ba]);if(r.isLeft)return Oa(function(){var e=h.concat(c,r.value.propPath),k=r.value.value,t=g(a.types[d],e);e=H(a,v(v(ha)),jb(h.concat([d],e)));return new TypeError(fa("VARIABLE"===t.type&&A(Ga(b,[k]))?"Unrecognized value\n\n"+e+"\n"+L(b,a,[k],1)+"\n\n"+T("The environment is empty! Polymorphic functions require a non-empty environment.\n","The value at position 1 is not a member of any type in the environment.\n\nThe environment contains the following types:\n\n",D(a.types),b):"Invalid value\n\n"+e+"\n"+L(b,a,[k],1)+"\n\nThe value at position 1 is not a member of "+Pa(l(t))+".\n"+Ra(Da(1)(t)?"type constructor":"type",t)))})}switch(t.type){case "VARIABLE":var G=t.name,p=a.constraints;if(Wa.call(p,G)){var w=p[G];for(ba=0;ba<y.length;ba+=1)for(var f=0;f<w.length;f+=1)if(!w[f].test(y[ba]))return Oa(function(){return ab(b,a,w[f],d,c,y[ba],e)})}var q=V(b,e,t,d,c,y);p=q[G].types;return A(p)?Oa(function(){return k(b,a,d,c,q[G].valuesByPath)}):h.reduce(function(e,k){return h.chain(function(e){var g=k.arity-t.arity;return t.keys.reduce(function(e,H,ba){return h.reduce(function(e,k){return h.chain(function(e){return X(b,a,e.typeVarMap,t.types[H],d,h.concat(c,[H]),[k])},e)},e,h.chain(k.extractors[k.keys[g+ba]],y))},Ka(e))},e)},Ka({typeVarMap:q,types:p}),p);case "UNARY":return h.map(function(b){return{typeVarMap:b.typeVarMap,types:h.map(K(t),I(b.types,[t.types.$1]))}},X(b,a,e,t.types.$1,d,h.concat(c,["$1"]),h.chain(t.extractors.$1,y)));case "BINARY":return h.chain(function(e){var k=e.types;return h.map(function(b){var a=b.types;return{typeVarMap:b.typeVarMap,types:h.lift2(m(t),I(k,[t.types.$1]),I(a,[t.types.$2]))}},X(b,a,e.typeVarMap,t.types.$2,d,h.concat(c,["$2"]),h.chain(t.extractors.$2,y)))},X(b,a,e,t.types.$1,d,h.concat(c,["$1"]),h.chain(t.extractors.$1,y)));case "RECORD":return h.reduce(function(e,k){return h.chain(function(e){return X(b,a,e.typeVarMap,t.types[k],d,h.concat(c,[k]),h.chain(t.extractors[k],y))},e)},Ka({typeVarMap:e,types:[t]}),t.keys);default:return Ka({typeVarMap:e,types:[t]})}}function pa(b){return function(a){return function(e){return xa(b,{name:"name",constraints:{},types:[a]},{},a,0,[],[e]).isRight}}}function ka(b){return function(a){return function(e){return function(k){return S("NULLARY",b,a,0,null,e,v(k),[])}}}}function M(b){return function(a){return function(e){return function(k){return function(g){return function(t){return S("UNARY",b,a,1,null,e,v(k),[["$1",g,t]])}}}}}}function K(b){return M(b.name)(b.url)(b.supertypes)(b._test([]))(b._extractors.$1)}function d(b){return function(a){return function(e){return function(k){return function(g){return function(t){return function(H){return function(d){return S("BINARY",b,a,2,null,e,v(k),[["$1",g,H],["$2",t,d]])}}}}}}}}function m(b){return d(b.name)(b.url)(b.supertypes)(b._test([]))(b._extractors.$1)(b._extractors.$2)}function C(b){var a=sa(b),e=a.map(function(a){return[a,function(b){return[b[a]]},b[a]]});return S("RECORD","","",0,function(e,k){if(A(a))return e("{}");var g=h.map(function(a){var g=b[a];return e(" ")+e(/^(?!\d)[$\w]+$/.test(a)?a:l(a))+e(" :: ")+k(a)(l(g))},a);return r(e("{"))(e(" }"))(B(e(","),g))},[],function(b){return function(b){if(null==b)return!1;var e={};a.forEach(function(b){e[b]=b});for(var k in b)delete e[k];return A(e)}},e)}function ia(b){var a=Da(b);return function(b){var e=Z(b);return function(k){var g=e(k);return b.some(function(b){return a(b)&&g(b)})}}}function ya(b){return function(a){a=[["$1",v([]),a]];var e=ia(a.length);return S("VARIABLE",b,"",1,null,[],e,a)}}function Ia(b){return function(a){return function(e){e=[["$1",v([]),a],["$2",v([]),e]];var k=ia(e.length);return S("VARIABLE",b,"",2,null,[],k,e)}}}function Ba(b,a,e,k){return new TypeError(fa(Pa(b.name)+" applied to the wrong number of arguments\n\n"+H(b,v(v(ha)),function(b){return function(e){return v(v(b===a?e:ha))}})+"\nExpected "+Aa(e)+" but received "+Aa(k.length)+T(".\n",":\n\n",l,k)))}function u(b,a,e){var k=[];sa(b).forEach(function(a){var g=e(a);b[a].forEach(function(b){k.push(g(b)(b.name.slice(b.name.indexOf("/")+1)+" "+a))})});return U(0<k.length)(r("")(a(" => ")))(U(1<k.length)(G(a))(B(a(", "),k)))}function W(b){return function(a){a=a.length-b.length;return Array(Math.floor(a/2)+1).join(" ")+b+Array(Math.ceil(a/2)+1).join(" ")}}function Ca(b){return h.concat("VARIABLE"===b.type?[b.name]:[],h.chain(function(a){return Ca(b.types[a])},b.keys))}function D(b){var a=h.chain(Ca,b);return function(b){var e=97;return U("FUNCTION"===b.type)(G(n))(l(b).replace(/\bUnknown\b/g,function(){do var b=String.fromCharCode(e++);while(0<=a.indexOf(b));return b}))}}function L(b,a,e,k){var g=D(a.types);return l(k)+")  "+B("\n    ",h.map(function(a){return l(a)+" :: "+B(", ",I(h.map(g,Ga(b,[a])),["(no types)"]))},e))}function b(b){return b.name+" :: "+u(b.constraints,n,v(v(n)))+B(" -> ",h.map(D(b.types),b.types))}function e(b,a,k){return k(b)(a)(b.format(ha,function(g){return v(e(b.types[g],h.concat(a,[g]),k))}))}function H(a,k,g){var t=a.types.reduce(function(b,a,k){function t(b){return function(a){return c(c(c(U("FUNCTION"===a.type)(G(ha)))))(H(b))}}var H=g(k);b.carets.push(e(a,[],x(t(ja("^")))));b.numbers.push(e(a,[],x(t(function(a){return W(l(b.counter+=1))(a)}))));return b},{carets:[],numbers:[],counter:0});return b(a)+"\n"+ha(a.name+" :: ")+u(a.constraints,ha,k)+B(ha(" -> "),t.carets)+"\n"+ha(a.name+" :: ")+u(a.constraints,ha,v(v(ha)))+B(ha(" -> "),t.numbers)+"\n"}function g(b,a){return h.reduce(function(b,a){return b.types[a]},b,a)}function jb(b){return function(a){return function(e){return function(k){return function(k){var g=h.concat([a],k);k=p(g)(b);g=p(b)(g);return k&&g?e:k?n:ha}}}}}function Ra(b,a){return null==a.url||""===a.url?"":"\nSee "+a.url+" for information about the "+a.name+" "+b+".\n"}function ab(b,a,e,k,t,d,c){var y=g(a.types[k],t);return new TypeError(fa("Type-class constraint violation\n\n"+H(a,function(b){return function(a){return b===y.name&&a.name===e.name?ja("^"):ha}},jb(h.concat([k],t)))+"\n"+L(b,a,[d],1)+"\n\n"+Pa(a.name)+" requires "+Pa(y.name)+" to satisfy the "+e.name.slice(e.name.indexOf("/")+1)+" type-class constraint; the value at position 1 does not.\n"+Ra("type class",e)))}function k(b,a,e,k,g){var t=JSON.stringify(h.concat([e],k)),H=g[t];e=h.filter(function(a){var e=g[a];(a=a===t)||(e=h.concat(H,e),e=h.filter(wa,va(b,[],e)),a=A(e));return a},sa(g));k=Ha(a,h.reduce(function(b,a){b[a]=g[a];return b},{},e));return new TypeError(fa("Type-variable constraint violation\n\n"+k+"\n"+h.reduce(function(e,k){var t=g[k];return A(t)?e:{idx:e.idx+1,s:e.s+L(b,a,t,e.idx+1)+"\n\n"}},{idx:0,s:""},e).s+"Since there is no type of which all the above values are members, the type-variable constraint has been violated.\n"))}function t(b,a,e,k){return new TypeError(fa(Pa(b.name)+" applied "+Pa(l(b.types[a]))+" to the wrong number of arguments\n\n"+H(b,v(v(ha)),function(b){return function(e){return function(k){return function(g){return function(g){return b===a?k.format(ha,function(b){return"$1"===b?e:ha}):ha(g)}}}}})+"\nExpected "+Aa(e)+" but received "+Aa(k.length)+T(".\n",":\n\n",l,k)))}function ba(b){if(b.isLeft)throw b.value();return b.value}function Db(a,e,g){function H(b,g,H){function d(b,g,t,H){var d=[t],y=c.types[t];return"VARIABLE"===y.type?h.chain(function(b){return A(b[y.name].types)?Oa(function(){return k(a,e,g,d,b[y.name].valuesByPath)}):Ka(b)},Ka(V(a,b,y,g,d,[H]))):h.map(function(b){return b.typeVarMap},xa(a,e,b,y,g,d,[H]))}var c=e.types[g];if("FUNCTION"!==c.type)return H;var y=b;return function(b){if(arguments.length!==c.arity-1)throw t(e,g,c.arity-1,bb.call(arguments));var a=arguments;y=ba(c.keys.slice(0,-1).reduce(function(b,e,k){var t=a[k];return h.chain(function(b){return d(b,g,e,t)},b)},Ka(y)));var k=H.apply(this,arguments),r=R(c.keys);y=ba(d(y,g,r,k));return k}}function d(b,k,t){return function(y){var r=bb.call(arguments);if(1!==r.length)throw Ba(e,t,1,r);var G=ba(xa(a,e,b,e.types[t],t,[],r)).typeVarMap;r=h.concat(k,r);return t+1===c?(r=r.reduce(function(b,a,e){return b(H(G,e,a))},g),G=ba(xa(a,e,G,e.types[c],c,[],[r])).typeVarMap,H(G,c,r)):d(G,r,t+1)}}var c=e.types.length-1,y="NO_ARGUMENTS"===e.types[0].type?function(){if(0!==arguments.length)throw Ba(e,0,0,bb.call(arguments));var b=g(),k=ba(xa(a,e,{},e.types[c],c,[],[b])).typeVarMap;return H(k,c,b)}:d({},[],0);y[Eb]=y.toString=Ma(b(e));return y}function kb(b){function a(a){return function(e){return function(k){return function(g){return b.checkTypes?Db(b.env,{name:a,constraints:e,types:1===k.length?h.concat([Fb],k):k},g):g}}}}return a(a.name)({})(lb)(a)}function Na(b){b=b(da);return ea(b.name)({})([E,E])(K(b))}function cb(b){b=b(da)(da);return ea(b.name)({})([E,E,E])(m(b))}var mb=Math.pow(2,53)-1,Gb=-mb,bb=Array.prototype.slice,Wa=Object.prototype.hasOwnProperty,Hb=Object.prototype.toString,Eb="symbol"===typeof a.inspect.custom?a.inspect.custom:"inspect",Oa=q.Left,Ka=q.Right,ha=ja(" "),Pa=r("\u2018")("\u2019"),Bb={constructor:{"@@type":"sanctuary-def/Type@1"},validate:function(b){var a=Z(b),e=this;return function(k){if(!a(k)(e))return Oa({value:k,propPath:[]});for(var g=0;g<e.keys.length;g+=1)for(var t=e.keys[g],H=e.types[t],d=e.extractors[t](k),c=0;c<d.length;c+=1){var y=H.validate(b)(d[c]);if(y.isLeft)return Oa({value:y.value.value,propPath:h.concat([t],y.value.propPath)})}return Ka(k)}},"fantasy-land/equals":function(b){return h.equals(this.type,b.type)&&h.equals(this.name,b.name)&&h.equals(this.url,b.url)&&h.equals(this.supertypes,b.supertypes)&&h.equals(this.keys,b.keys)&&h.equals(this.types,b.types)},"@@show":function(){return this.format(n,v(n))}},Cb=S("INCONSISTENT","","",0,Q("???"),[],v(v(!1)),[]),Fb=S("NO_ARGUMENTS","","",0,Q("()"),[],v(v(!0)),[]),P=h.ap(ka,za),La=h.ap(M,za),db=h.ap(d,za),da=S("UNKNOWN","","",0,Q("Unknown"),[],v(v(!0)),[]),eb=P("Any")([])(v(!0)),Qa=P("Function")([])(na("function")),nb=P("Arguments")([])(O("Arguments")),ua=La("Array")([])(O("Array"))(n),Ib=P("Array0")([ua(da)])(ca(0)),Jb=La("Array1")([ua(da)])(ca(1))(n),ob=db("Array2")([ua(da)])(ca(2))(function(b){return[b[0]]})(function(b){return[b[1]]}),Sa=P("Boolean")([])(na("boolean")),fb=P("Date")([])(O("Date")),Kb=P("ValidDate")([fb])(c(z(isNaN))(Number)),pb=La("Descending")([])(O("sanctuary-descending/Descending@1"))(n),qb=db("Either")([])(O("sanctuary-either/Either@1"))(function(b){return b.isLeft?[b.value]:[]})(function(b){return b.isLeft?[]:[b.value]}),rb=P("Error")([])(O("Error")),sb=P("HtmlElement")([])(function(b){return/^\[object HTML.+Element\]$/.test(Hb.call(b))}),tb=La("Identity")([])(O("sanctuary-identity/Identity@1"))(n),ub=La("Maybe")([])(O("sanctuary-maybe/Maybe@1"))(n),Xa=La("NonEmpty")([])(function(b){return h.Monoid.test(b)&&h.Setoid.test(b)&&!h.equals(b,h.empty(b.constructor))})(function(b){return[b]}),vb=P("Null")([])(O("Null")),Lb=La("Nullable")([])(v(!0))(function(b){return null===b?[]:[b]}),Ta=P("Number")([])(na("number")),Mb=P("PositiveNumber")([Ta])(ma),Nb=P("NegativeNumber")([Ta])(oa),Ya=P("ValidNumber")([Ta])(z(isNaN)),Ob=P("NonZeroValidNumber")([Ya])(Fa),Za=P("FiniteNumber")([Ya])(isFinite),Pb=P("NonZeroFiniteNumber")([Za])(Fa),Qb=P("PositiveFiniteNumber")([Za])(ma),Rb=P("NegativeFiniteNumber")([Za])(oa),Ua=P("Integer")([Ya])(function(b){return Math.floor(b)===b&&b>=Gb&&b<=mb}),Sb=P("NonZeroInteger")([Ua])(Fa),Tb=P("NonNegativeInteger")([Ua])(function(b){return 0<=b}),Ub=P("PositiveInteger")([Ua])(ma),Vb=P("NegativeInteger")([Ua])(oa),gb=P("Object")([])(O("Object")),wb=db("Pair")([])(O("sanctuary-pair/Pair@1"))(function(b){return[b.fst]})(function(b){return[b.snd]}),$a=P("RegExp")([])(O("RegExp")),Wb=P("GlobalRegExp")([$a])(y("global")),Xb=P("NonGlobalRegExp")([$a])(z(y("global"))),Va=La("StrMap")([gb])(v(!0))(n),qa=P("String")([])(na("string")),Yb=P("RegexFlags")([qa])(function(b){return/^g?i?m?$/.test(b)}),xb=P("Symbol")([])(na("symbol")),E=P("Type")([])(O("sanctuary-def/Type@1")),hb=P("TypeClass")([])(O("sanctuary-type-classes/TypeClass@1")),yb=P("Undefined")([])(O("Undefined")),zb=[Qa,nb,ua(da),ob(da)(da),Sa,fb,pb(da),qb(da)(da),rb,Ea(da)(da),sb,tb(da),ub(da),vb,Ta,gb,wb(da)(da),$a,Va(da),qa,xb,E,hb,yb],Zb="undefined"!==typeof w&&null!=w&&null!=w.env&&"production"===w.env.NODE_ENV,ib="zero one two three four five six seven eight nine".split(" "),lb=[qa,Va(ua(hb)),Xa(ua(E)),Qa,Qa],ea=kb({checkTypes:!Zb,env:zb});return{Any:eb,AnyFunction:Qa,Arguments:nb,Array:Na(ua),Array0:Ib,Array1:Na(Jb),Array2:cb(ob),Boolean:Sa,Date:fb,ValidDate:Kb,Descending:Na(pb),Either:cb(qb),Error:rb,Fn:ea("Fn")({})([E,E,E])(Ea),Function:ea("Function")({})([Xa(ua(E)),E])(Ja),HtmlElement:sb,Identity:Na(tb),Maybe:Na(ub),NonEmpty:Xa,Null:vb,Nullable:Na(Lb),Number:Ta,PositiveNumber:Mb,NegativeNumber:Nb,ValidNumber:Ya,NonZeroValidNumber:Ob,FiniteNumber:Za,NonZeroFiniteNumber:Pb,PositiveFiniteNumber:Qb,NegativeFiniteNumber:Rb,Integer:Ua,NonZeroInteger:Sb,NonNegativeInteger:Tb,PositiveInteger:Ub,NegativeInteger:Vb,Object:gb,Pair:cb(wb),RegExp:$a,GlobalRegExp:Wb,NonGlobalRegExp:Xb,RegexFlags:Yb,StrMap:Na(Va),String:qa,Symbol:xb,Type:E,TypeClass:hb,Undefined:yb,Unknown:da,env:zb,create:ea("create")({})([C({checkTypes:Sa,env:ua(E)}),aa(B(" -> ",h.map(l,lb)))])(kb),test:ea("test")({})([ua(E),E,eb,Sa])(pa),NullaryType:ea("NullaryType")({})([qa,qa,ua(E),aa("(Any -> Boolean)"),E])(ka),UnaryType:ea("UnaryType")({f:[h.Foldable]})([qa,qa,ua(E),aa("(Any -> Boolean)"),aa("(t a -> f a)"),aa("Type -> Type")])(function(b){return c(c(c(c(ea(b)({})([E,E])))))(M(b))}),BinaryType:ea("BinaryType")({f:[h.Foldable]})([qa,qa,ua(E),aa("(Any -> Boolean)"),aa("(t a b -> f a)"),aa("(t a b -> f b)"),aa("Type -> Type -> Type")])(function(b){return c(c(c(c(c(ea(b)({})([E,E,E]))))))(d(b))}),EnumType:ea("EnumType")({})([qa,qa,ua(eb),E])(function(b){return function(a){return c(ka(b)(a)([]))(Y)}}),RecordType:ea("RecordType")({})([Va(E),E])(C),NamedRecordType:ea("NamedRecordType")({})([Xa(qa),qa,ua(E),Va(E),E])(function(b){return function(a){return function(e){return function(k){var g=sa(k),t=g.map(function(b){return[b,function(a){return[a[b]]},k[b]]});return S("RECORD",b,a,0,function(a,e){return a(b)},e,function(b){var a=Z(b);return function(b){if(null==b)return!1;var e={};g.forEach(function(b){e[b]=b});for(var t in b)delete e[t];return A(e)&&g.every(function(e){return a(b[e])(k[e])})}},t)}}}}),TypeVariable:ea("TypeVariable")({})([qa,E])(function(b){var a=[],e=ia(a.length);return S("VARIABLE",b,"",0,Q(b),[],e,a)}),UnaryTypeVariable:ea("UnaryTypeVariable")({})([qa,aa("Type -> Type")])(function(b){return ea(b)({})([E,E])(ya(b))}),BinaryTypeVariable:ea("BinaryTypeVariable")({})([qa,aa("Type -> Type -> Type")])(function(b){return ea(b)({})([E,E,E])(Ia(b))}),Thunk:ea("Thunk")({})([E,E])(function(b){return Ja([b])}),Predicate:ea("Predicate")({})([E,E])(function(b){return Ea(b)(Sa)})}})}).call(this,f("_process"))},{_process:13,"sanctuary-either":3,"sanctuary-show":8,"sanctuary-type-classes":9,"sanctuary-type-identifiers":10,util:15}],3:[function(f,n,x){(function(w){"object"===typeof n&&"object"===typeof n.exports?n.exports=w(f("sanctuary-show"),f("sanctuary-type-classes")):"function"===typeof define&&null!=define.amd?define(["sanctuary-show","sanctuary-type-classes"],w):self.sanctuaryEither=w(self.sanctuaryShow,self.sanctuaryTypeClasses)})(function(w,a){function q(a){return{tag:q,value:a}}function l(a){return{tag:l,value:a}}function h(){return"Left ("+w(this.value)+")"}function x(){return"Right ("+w(this.value)+")"}function c(c){return c.isLeft&&a.equals(this.value,c.value)}function ra(c){return c.isRight&&a.equals(this.value,c.value)}function v(c){return c.isRight||a.lte(this.value,c.value)}function la(c){return c.isRight&&a.lte(this.value,c.value)}function N(c){return c.isLeft?Y(a.concat(this.value,c.value)):c}function Q(c){return c.isRight?I(a.concat(this.value,c.value)):this}if("undefined"!==typeof __doctest){var z=__doctest.require("sanctuary-def"),J=__doctest.require("sanctuary-type-identifiers");(function(){var c=__doctest.require("sanctuary"),h=z.BinaryType("sanctuary-either/Either")("")(function(a){return J(a)===A["@@type"]})(function(a){return a.isLeft?[a.value]:[]})(function(a){return a.isLeft?[]:[a.value]});h=a.concat(c.env,[z.TypeClass,h(z.Unknown)(z.Unknown)]);return c.create({checkTypes:!0,env:h})})()}var A={},p={constructor:A,isLeft:!0,isRight:!1,"@@show":h,"fantasy-land/map":function(a){return this},"fantasy-land/bimap":function(a,c){return Y(a(this.value))},"fantasy-land/ap":function(a){return a.isLeft?a:this},"fantasy-land/chain":function(a){return this},"fantasy-land/alt":function(a){return a},"fantasy-land/reduce":function(a,c){return c},"fantasy-land/traverse":function(c,h){return a.of(c,this)},"fantasy-land/extend":function(a){return this}},B={constructor:A,isLeft:!1,isRight:!0,"@@show":x,"fantasy-land/map":function(a){return I(a(this.value))},"fantasy-land/bimap":function(a,c){return I(c(this.value))},"fantasy-land/ap":function(a){return a.isLeft?a:I(a.value(this.value))},"fantasy-land/chain":function(a){return a(this.value)},"fantasy-land/alt":function(a){return this},"fantasy-land/reduce":function(a,c){return a(c,this.value)},"fantasy-land/traverse":function(c,h){return a.map(I,h(this.value))},"fantasy-land/extend":function(a){return I(a(this))}},R="object"===typeof n&&"object"===typeof n.exports?f("util"):{};R=null!=R.inspect&&"symbol"===typeof R.inspect.custom?R.inspect.custom:"inspect";p[R]=h;B[R]=x;var Y=A.Left=function(h){var y=Object.create(p);a.Setoid.test(h)&&(y["fantasy-land/equals"]=c,a.Ord.test(h)&&(y["fantasy-land/lte"]=v));a.Semigroup.test(h)&&(y["fantasy-land/concat"]=N);y.value=h;return y},I=A.Right=function(c){var h=Object.create(B);a.Setoid.test(c)&&(h["fantasy-land/equals"]=ra,a.Ord.test(c)&&(h["fantasy-land/lte"]=la));a.Semigroup.test(c)&&(h["fantasy-land/concat"]=Q);h.value=c;return h};A["@@type"]="sanctuary-either/Either@1";A["fantasy-land/of"]=I;A["fantasy-land/chainRec"]=function(a,c){for(var h=q(c);h.tag===q;){h=a(q,l,h.value);if(h.isLeft)return h;h=h.value}return I(h.value)};return A})},{"sanctuary-show":8,"sanctuary-type-classes":4,util:15}],4:[function(f,n,x){(function(w){"object"===typeof n&&"object"===typeof n.exports?n.exports=w(f("sanctuary-type-identifiers")):"function"===typeof define&&null!=define.amd?define(["sanctuary-type-identifiers"],w):self.sanctuaryTypeClasses=w(self.sanctuaryTypeIdentifiers)})(function(f){function a(b){return function(a){return b.concat(a)}}function q(b){return function(a){return b}}function l(b,a){Object.keys(b).forEach(a,b)}function h(b,a){return Object.prototype.hasOwnProperty.call(a,b)}function w(b){return b}function c(b){return function(a){return[b,a]}}function n(b,a){return typeof b===typeof a&&f(b)===f(a)}function v(b){return Object.keys(b).sort()}function x(b){return function(a){return a(b)}}function N(b){return function(a){return b(a)}}function Q(b){return{value:b,done:!1}}function z(b){return{value:b,done:!0}}function J(b,a,c,g){if(!(this instanceof J))return new J(b,a,c,g);this.name=b;this.url=a;this.test=function(b){return c.every(function(a){return a.test(b)})&&g(b)}}function A(b,a,c){for(var e=0;e<a.length;e+=1){var d=a[e];if(null==c||!b&&!h(d,c))return null;c=c[d]}return"function"===typeof c?c:null}function p(b,a,c){function e(b){var a="fantasy-land/"+b;return"Constructor"===c[b]?function(b){var e=A(!0,[a],b);return null==e&&"function"===typeof b?A(!1,[Fa(b),a],Ca):e}:function(b){var e=null;if(null==b||null==b.constructor||b.constructor.prototype!==b)e=A(!0,[a],b);null==e&&(e=A(!1,[f(b),"prototype",a],Ca));return e&&e.bind(b)}}var d=Object.keys(c);b=J("sanctuary-type-classes/"+b,"https://github.com/sanctuary-js/sanctuary-type-classes/tree/v10.0.0#"+b,a,function(b){return d.every(function(a){var k="Constructor"===c[a]?b.constructor:b;return null!=e(a)(k)})});b.methods=d.reduce(function(b,a){b[a]=e(a);return b},{});return b}function B(b){return[b]}function R(b){if(b.length!==this.length)return!1;for(var a=0;a<this.length;a+=1)if(!D(this[a],b[a]))return!1;return!0}function Y(b){for(var a=0;;a+=1){if(a===this.length)return!0;if(a===b.length)return!1;if(!D(this[a],b[a]))return L(this[a],b[a])}}function I(b){return this.concat(b)}function y(b){function a(b){c[b]=this[b]}var c={};l(this,a);l(b,a);return c}function ca(b,a){return n(b,a)&&!L(a,b)}function ja(b,a){return L(b,a)?b:a}function sa(b,a){return L(b,a)?a:b}function F(b,a){return ta.methods.concat(b)(a)}function T(b){return va.methods.empty(b)()}function fa(b,a){return Ga.methods.filter(a)(b)}function U(b,a){return V.methods.map(a)(b)}function r(b,a,c){return Ha.methods.bimap(c)(b,a)}function G(b,a){return pa.methods.ap(a)(b)}function Z(b,a,c){return G(U(b,a),c)}function S(b,a){return ka.methods.of(b)(a)}function Da(b,a){return M.methods.chain(a)(b)}function O(b,a,c){return ya.methods.reduce(c)(b,a)}function na(b,a){return Array.isArray(a)?a.some(N(b)):O(function(a,e){return a||b(e)},!1,a)}function za(b,a){var e=O(function(a,e){a.push({idx:a.length,x:e,fx:b(e)});return a},[],a),g=function(b){switch(typeof(b&&b.fx)){case "number":return function(b,a){return b<=a||b!==b};case "string":return function(b,a){return b<=a};default:return L}}(e[0]);e.sort(function(b,a){return g(b.fx,a.fx)?g(a.fx,b.fx)?b.idx-a.idx:-1:1});if(Array.isArray(a)){for(var c=0;c<e.length;c+=1)e[c]=e[c].x;return e}var d=a.constructor,h=T(d);for(c=0;c<e.length;c+=1)h=F(h,S(d,e[c].x));return h}function Ea(b,a,c){return Ia.methods.traverse(c)(b,a)}function Ja(b,a){return Ba.methods.extend(a)(b)}"undefined"!==typeof __doctest&&(__doctest.require("sanctuary-identity"),__doctest.require("./test/List"),__doctest.require("sanctuary-maybe"),__doctest.require("sanctuary-pair"),__doctest.require("./test/Sum"));J["@@type"]="sanctuary-type-classes/TypeClass@1";var Fa=h("name",function(){})?function(b){return b.name}:function(b){b=/function (\w*)/.exec(b);return null==b?"":b[1]},ma=p("Setoid",[],{equals:"Value"}),oa=p("Ord",[ma],{lte:"Value"}),aa=p("Semigroupoid",[],{compose:"Value"}),Aa=p("Category",[aa],{id:"Constructor"}),ta=p("Semigroup",[],{concat:"Value"}),va=p("Monoid",[ta],{empty:"Constructor"}),wa=p("Group",[va],{invert:"Value"}),Ga=p("Filterable",[],{filter:"Value"}),V=p("Functor",[],{map:"Value"}),Ha=p("Bifunctor",[V],{bimap:"Value"}),xa=p("Profunctor",[V],{promap:"Value"}),pa=p("Apply",[V],{ap:"Value"}),ka=p("Applicative",[pa],{of:"Constructor"}),M=p("Chain",[pa],{chain:"Value"}),K=p("ChainRec",[M],{chainRec:"Constructor"}),d=p("Monad",[ka,M],{}),m=p("Alt",[V],{alt:"Value"}),C=p("Plus",[m],{zero:"Constructor"}),ia=p("Alternative",[ka,C],{}),ya=p("Foldable",[],{reduce:"Value"}),Ia=p("Traversable",[V,ya],{traverse:"Value"}),Ba=p("Extend",[V],{extend:"Value"}),u=p("Comonad",[Ba],{extract:"Value"}),W=p("Contravariant",[],{contramap:"Value"}),Ca={Null:{prototype:{"fantasy-land/equals":function(b){return!0},"fantasy-land/lte":function(b){return!0}}},Undefined:{prototype:{"fantasy-land/equals":function(b){return!0},"fantasy-land/lte":function(b){return!0}}},Boolean:{prototype:{"fantasy-land/equals":function(b){return"object"===typeof this?D(this.valueOf(),b.valueOf()):this===b},"fantasy-land/lte":function(b){return"object"===typeof this?L(this.valueOf(),b.valueOf()):!1===this||!0===b}}},Number:{prototype:{"fantasy-land/equals":function(b){return"object"===typeof this?D(this.valueOf(),b.valueOf()):isNaN(this)&&isNaN(b)||this===b},"fantasy-land/lte":function(b){return"object"===typeof this?L(this.valueOf(),b.valueOf()):isNaN(this)||this<=b}}},Date:{prototype:{"fantasy-land/equals":function(b){return D(this.valueOf(),b.valueOf())},"fantasy-land/lte":function(b){return L(this.valueOf(),b.valueOf())}}},RegExp:{prototype:{"fantasy-land/equals":function(b){return b.source===this.source&&b.global===this.global&&b.ignoreCase===this.ignoreCase&&b.multiline===this.multiline&&b.sticky===this.sticky&&b.unicode===this.unicode}}},String:{"fantasy-land/empty":function(){return""},prototype:{"fantasy-land/equals":function(b){return"object"===typeof this?D(this.valueOf(),b.valueOf()):this===b},"fantasy-land/lte":function(b){return"object"===typeof this?L(this.valueOf(),b.valueOf()):this<=b},"fantasy-land/concat":function(b){return this+b}}},Array:{"fantasy-land/empty":function(){return[]},"fantasy-land/of":B,"fantasy-land/chainRec":function(b,a){for(var e=[],g={},c={head:a,tail:g};c!==g;){for(var d=g,h=b(Q,z,c.head),k=0;k<h.length;k+=1){var t=h[k];t.done?e.push(t.value):d={head:t.value,tail:d}}for(c=c.tail;d!==g;)c={head:d.head,tail:c},d=d.tail}return e},"fantasy-land/zero":function(){return[]},prototype:{"fantasy-land/equals":R,"fantasy-land/lte":Y,"fantasy-land/concat":I,"fantasy-land/filter":function(b){return this.filter(function(a){return b(a)})},"fantasy-land/map":function(b){return this.map(function(a){return b(a)})},"fantasy-land/ap":function(b){for(var a=[],c=0;c<b.length;c+=1)for(var g=0;g<this.length;g+=1)a.push(b[c](this[g]));return a},"fantasy-land/chain":function(b){for(var a=[],c=0;c<this.length;c+=1)for(var g=0,d=b(this[c]);g<d.length;g+=1)a.push(d[g]);return a},"fantasy-land/alt":I,"fantasy-land/reduce":function(b,a){for(var e=a,g=0;g<this.length;g+=1)e=b(e,this[g]);return e},"fantasy-land/traverse":function(b,e){function d(H,h){switch(h){case 0:return S(b,[]);case 2:return Z(c,e(g[H]),e(g[H+1]));default:var r=2*Math.floor(h/4);return Z(a,d(H,r),d(H+r,h-r))}}var g=this;return 1===this.length%2?Z(a,U(B,e(this[0])),d(1,this.length-1)):d(0,this.length)},"fantasy-land/extend":function(b){return this.map(function(a,c,g){return b(g.slice(c))})}}},Arguments:{prototype:{"fantasy-land/equals":function(b){return R.call(this,b)},"fantasy-land/lte":function(b){return Y.call(this,b)}}},Error:{prototype:{"fantasy-land/equals":function(b){return D(this.name,b.name)&&D(this.message,b.message)}}},Object:{"fantasy-land/empty":function(){return{}},"fantasy-land/zero":function(){return{}},prototype:{"fantasy-land/equals":function(b){var a=this,c=v(this);return D(c,v(b))&&c.every(function(e){return D(a[e],b[e])})},"fantasy-land/lte":function(b){for(var a=v(this),c=v(b);;){if(0===a.length)return!0;if(0===c.length)return!1;var g=a.shift(),d=c.shift();if(g<d)return!0;if(g>d)return!1;if(!D(this[g],b[g]))return L(this[g],b[g])}},"fantasy-land/concat":y,"fantasy-land/filter":function(b){var a={};l(this,function(e){b(this[e])&&(a[e]=this[e])});return a},"fantasy-land/map":function(b){var a={};l(this,function(e){a[e]=b(this[e])});return a},"fantasy-land/ap":function(b){var a={};l(this,function(e){h(e,b)&&(a[e]=b[e](this[e]))});return a},"fantasy-land/alt":y,"fantasy-land/reduce":function(b,a){var e=this;return v(this).reduce(function(a,c){return b(a,e[c])},a)},"fantasy-land/traverse":function(b,a){var e=this;return Object.keys(this).reduce(function(b,c){return Z(function(b){return function(a){var e={};e[c]=a;return y.call(b,e)}},b,a(e[c]))},S(b,{}))}}},Function:{"fantasy-land/id":function(){return w},"fantasy-land/of":function(b){return function(a){return b}},"fantasy-land/chainRec":function(b,a){return function(e){for(var g=Q(a);!g.done;)g=b(Q,z,g.value)(e);return g.value}},prototype:{"fantasy-land/equals":function(b){return b===this},"fantasy-land/compose":function(b){var a=this;return function(e){return b(a(e))}},"fantasy-land/map":function(b){var a=this;return function(e){return b(a(e))}},"fantasy-land/promap":function(b,a){var e=this;return function(g){return a(e(b(g)))}},"fantasy-land/ap":function(b){var a=this;return function(e){return b(e)(a(e))}},"fantasy-land/chain":function(b){var a=this;return function(e){return b(a(e))(e)}},"fantasy-land/extend":function(b){var a=this;return function(e){return b(function(b){return a(F(e,b))})}},"fantasy-land/contramap":function(b){var a=this;return function(e){return a(b(e))}}}}},D=function(){var b=[];return function(a,c){if(!n(a,c))return!1;if(b.some(function(b){return b[0]===a&&b[1]===c}))return!0;b.push([a,c]);try{return ma.test(a)&&ma.test(c)&&ma.methods.equals(a)(c)}finally{b.pop()}}}(),L=function(){var b=[];return function(a,c){if(!n(a,c))return!1;if(b.some(function(b){return b[0]===a&&b[1]===c}))return D(a,c);b.push([a,c]);try{return oa.test(a)&&oa.test(c)&&oa.methods.lte(a)(c)}finally{b.pop()}}}();return{TypeClass:J,Setoid:ma,Ord:oa,Semigroupoid:aa,Category:Aa,Semigroup:ta,Monoid:va,Group:wa,Filterable:Ga,Functor:V,Bifunctor:Ha,Profunctor:xa,Apply:pa,Applicative:ka,Chain:M,ChainRec:K,Monad:d,Alt:m,Plus:C,Alternative:ia,Foldable:ya,Traversable:Ia,Extend:Ba,Comonad:u,Contravariant:W,equals:D,lt:ca,lte:L,gt:function(b,a){return ca(a,b)},gte:function(b,a){return L(a,b)},min:ja,max:sa,clamp:function(b,a,c){return sa(b,ja(a,c))},compose:function(b,a){return aa.methods.compose(a)(b)},id:function(b){return Aa.methods.id(b)()},concat:F,empty:T,invert:function(b){return wa.methods.invert(b)()},filter:fa,reject:function(b,a){return fa(function(a){return!b(a)},a)},map:U,flip:function(b,a){return V.methods.map(b)(x(a))},bimap:r,mapLeft:function(b,a){return r(b,w,a)},promap:function(b,a,c){return xa.methods.promap(c)(b,a)},ap:G,lift2:Z,lift3:function(b,a,c,g){return G(G(U(b,a),c),g)},apFirst:function(b,a){return Z(q,b,a)},apSecond:function(b,a){return Z(q(w),b,a)},of:S,append:function(b,a){return F(a,S(a.constructor,b))},prepend:function(b,a){return F(S(a.constructor,b),a)},chain:Da,join:function(b){return Da(w,b)},chainRec:function(b,a,c){return K.methods.chainRec(b)(a,c)},alt:function(b,a){return m.methods.alt(b)(a)},zero:function(b){return C.methods.zero(b)()},reduce:O,size:function(b){return Array.isArray(b)?b.length:O(function(b,a){return b+1},0,b)},all:function(b,a){return Array.isArray(a)?a.every(N(b)):O(function(a,e){return a&&b(e)},!0,a)},any:na,none:function(b,a){return!na(b,a)},elem:function(b,a){return na(function(a){return D(b,a)},a)},foldMap:function(b,a,c){return O(function(b,e){return F(b,a(e))},T(b),c)},reverse:function(b){if(Array.isArray(b))return b.slice().reverse();var a=b.constructor;return O(function(b,e){return F(S(a,e),b)},T(a),b)},sort:function(b){return za(w,b)},sortBy:za,takeWhile:function(b,a){var e=!0;return fa(function(a){return e=e&&b(a)},a)},dropWhile:function(b,a){var e=!1;return fa(function(a){return e=e||!b(a)},a)},traverse:Ea,sequence:function(b,a){return Ea(b,w,a)},extend:Ja,duplicate:function(b){return Ja(w,b)},extract:function(b){return u.methods.extract(b)()},contramap:function(b,a){return W.methods.contramap(a)(b)}}})},{"sanctuary-type-identifiers":10}],5:[function(f,n,x){(function(w){var a={inspect:{}};"object"===typeof n&&"object"===typeof n.exports?n.exports=w(f("util"),f("sanctuary-show"),f("sanctuary-type-classes")):"function"===typeof define&&null!=define.amd?define(["sanctuary-show","sanctuary-type-classes"],function(f,l){return w(a,f,l)}):self.sanctuaryEither=w(a,self.sanctuaryShow,self.sanctuaryTypeClasses)})(function(f,a,q){function l(a){return{tag:l,value:a}}function h(a){return{tag:h,value:a}}function w(){return"Left ("+a(this.value)+")"}function c(){return"Right ("+a(this.value)+")"}function n(a){return a.isLeft&&q.equals(this.value,a.value)}function v(a){return a.isRight&&q.equals(this.value,a.value)}function x(a){return a.isRight||q.lte(this.value,a.value)}function N(a){return a.isRight&&q.lte(this.value,a.value)}function Q(a){return a.isLeft?Y(q.concat(this.value,a.value)):a}function z(a){return a.isRight?I(q.concat(this.value,a.value)):this}if("undefined"!==typeof __doctest){var J=__doctest.require("sanctuary-def"),A=__doctest.require("sanctuary-type-identifiers");(function(){var a=__doctest.require("sanctuary"),c=J.BinaryType("sanctuary-either/Either")("")(function(a){return A(a)===p["@@type"]})(function(a){return a.isLeft?[a.value]:[]})(function(a){return a.isLeft?[]:[a.value]});c=q.concat(a.env,[J.TypeClass,c(J.Unknown)(J.Unknown)]);return a.create({checkTypes:!0,env:c})})()}var p={},B={constructor:p,isLeft:!0,isRight:!1,"@@show":w,"fantasy-land/map":function(a){return this},"fantasy-land/bimap":function(a,c){return Y(a(this.value))},"fantasy-land/ap":function(a){return a.isLeft?a:this},"fantasy-land/chain":function(a){return this},"fantasy-land/alt":function(a){return a},"fantasy-land/reduce":function(a,c){return c},"fantasy-land/traverse":function(a,c){return q.of(a,this)},"fantasy-land/extend":function(a){return this}},R={constructor:p,isLeft:!1,isRight:!0,"@@show":c,"fantasy-land/map":function(a){return I(a(this.value))},"fantasy-land/bimap":function(a,c){return I(c(this.value))},"fantasy-land/ap":function(a){return a.isLeft?a:I(a.value(this.value))},"fantasy-land/chain":function(a){return a(this.value)},"fantasy-land/alt":function(a){return this},"fantasy-land/reduce":function(a,c){return a(c,this.value)},"fantasy-land/traverse":function(a,c){return q.map(I,c(this.value))},"fantasy-land/extend":function(a){return I(a(this))}};f=f.inspect.custom;"symbol"===typeof f?(B[f]=w,R[f]=c):(B.inspect=w,R.inspect=c);var Y=p.Left=function(a){var c=Object.create(B);q.Setoid.test(a)&&(c["fantasy-land/equals"]=n,q.Ord.test(a)&&(c["fantasy-land/lte"]=x));q.Semigroup.test(a)&&(c["fantasy-land/concat"]=Q);c.value=a;return c},I=p.Right=function(a){var c=Object.create(R);q.Setoid.test(a)&&(c["fantasy-land/equals"]=v,q.Ord.test(a)&&(c["fantasy-land/lte"]=N));q.Semigroup.test(a)&&(c["fantasy-land/concat"]=z);c.value=a;return c};p["@@type"]="sanctuary-either/Either@1";p["fantasy-land/of"]=I;p["fantasy-land/chainRec"]=function(a,c){for(var f=l(c);f.tag===l;){f=a(l,h,f.value);if(f.isLeft)return f;f=f.value}return I(f.value)};return p})},{"sanctuary-show":8,"sanctuary-type-classes":9,util:15}],6:[function(f,n,x){(function(w){var a={inspect:{}};"object"===typeof n&&"object"===typeof n.exports?n.exports=w(f("util"),f("sanctuary-show"),f("sanctuary-type-classes")):"function"===typeof define&&null!=define.amd?define(["sanctuary-show","sanctuary-type-classes"],function(f,l){return w(a,f,l)}):self.sanctuaryMaybe=w(a,self.sanctuaryShow,self.sanctuaryTypeClasses)})(function(f,a,q){function l(a){return{tag:l,value:a}}function h(a){return{tag:h,value:a}}function w(){return"Nothing"}function c(){return"Just ("+a(this.value)+")"}function n(a){return a.isJust&&q.equals(this.value,a.value)}function v(a){return a.isJust&&q.lte(this.value,a.value)}function x(a){return a.isJust?B(q.concat(this.value,a.value)):this}if("undefined"!==typeof __doctest){var N=__doctest.require("sanctuary-def"),Q=__doctest.require("sanctuary-type-identifiers");(function(){var a=__doctest.require("sanctuary"),c=N.UnaryType("sanctuary-maybe/Maybe")("")(function(a){return Q(a)===z["@@type"]})(function(a){return a.isJust?[a.value]:[]});c=q.concat(a.env,[N.TypeClass,c(N.Unknown)]);return a.create({checkTypes:!0,env:c})})()}var z={},J={constructor:z,isNothing:!0,isJust:!1,"@@show":w,"fantasy-land/equals":function(a){return a.isNothing},"fantasy-land/lte":function(a){return!0},"fantasy-land/concat":function(a){return a},"fantasy-land/filter":function(a){return this},"fantasy-land/map":function(a){return this},"fantasy-land/ap":function(a){return this},"fantasy-land/chain":function(a){return this},"fantasy-land/alt":function(a){return a},"fantasy-land/reduce":function(a,c){return c},"fantasy-land/traverse":function(a,c){return q.of(a,this)},"fantasy-land/extend":function(a){return this}},A={constructor:z,isNothing:!1,isJust:!0,"@@show":c,"fantasy-land/filter":function(a){return a(this.value)?this:p},"fantasy-land/map":function(a){return B(a(this.value))},"fantasy-land/ap":function(a){return a.isJust?B(a.value(this.value)):a},"fantasy-land/chain":function(a){return a(this.value)},"fantasy-land/alt":function(a){return this},"fantasy-land/reduce":function(a,c){return a(c,this.value)},"fantasy-land/traverse":function(a,c){return q.map(B,c(this.value))},"fantasy-land/extend":function(a){return B(a(this))}};f=f.inspect.custom;"symbol"===typeof f?(J[f]=w,A[f]=c):(J.inspect=w,A.inspect=c);var p=z.Nothing=Object.create(J),B=z.Just=function(a){var c=Object.create(A);q.Setoid.test(a)&&(c["fantasy-land/equals"]=n,q.Ord.test(a)&&(c["fantasy-land/lte"]=v));q.Semigroup.test(a)&&(c["fantasy-land/concat"]=x);c.value=a;return c};z["@@type"]="sanctuary-maybe/Maybe@1";z["fantasy-land/empty"]=function(){return p};z["fantasy-land/of"]=B;z["fantasy-land/chainRec"]=function(a,c){for(var f=l(c);f.tag===l;){f=a(l,h,f.value);if(f.isNothing)return f;f=f.value}return B(f.value)};z["fantasy-land/zero"]=function(){return p};return z})},{"sanctuary-show":8,"sanctuary-type-classes":9,util:15}],7:[function(f,n,x){(function(w){var a={inspect:{}};"object"===typeof n&&"object"===typeof n.exports?n.exports=w(f("util"),f("sanctuary-show"),f("sanctuary-type-classes")):"function"===typeof define&&null!=define.amd?define(["sanctuary-show","sanctuary-type-classes"],function(f,l){return w(a,f,l)}):self.sanctuaryPair=w(a,self.sanctuaryShow,self.sanctuaryTypeClasses)})(function(f,a,q){function l(a){return function(h){var f=Object.create(z);q.Setoid.test(a)&&q.Setoid.test(h)&&(f["fantasy-land/equals"]=w,q.Ord.test(a)&&q.Ord.test(h)&&(f["fantasy-land/lte"]=c));q.Semigroup.test(a)&&(q.Semigroup.test(h)&&(f["fantasy-land/concat"]=n),f["fantasy-land/ap"]=v,f["fantasy-land/chain"]=x);f.fst=a;f.snd=h;return f}}function h(){return"Pair ("+a(this.fst)+") ("+a(this.snd)+")"}function w(a){return q.equals(this.fst,a.fst)&&q.equals(this.snd,a.snd)}function c(a){return q.equals(this.fst,a.fst)?q.lte(this.snd,a.snd):q.lte(this.fst,a.fst)}function n(a){return l(q.concat(this.fst,a.fst))(q.concat(this.snd,a.snd))}function v(a){return l(q.concat(a.fst,this.fst))(a.snd(this.snd))}function x(a){a=a(this.snd);return l(q.concat(this.fst,a.fst))(a.snd)}if("undefined"!==typeof __doctest){var N=__doctest.require("sanctuary-def"),Q=__doctest.require("sanctuary-type-identifiers");(function(){var a=__doctest.require("sanctuary"),c=N.BinaryType("sanctuary-pair/Pair")("")(function(a){return Q(a)===l["@@type"]})(function(a){return[a.fst]})(function(a){return[a.snd]});c=q.concat(a.env,[N.TypeClass,c(N.Unknown)(N.Unknown)]);return a.create({checkTypes:!0,env:c})})()}var z={constructor:l,"@@show":h,"fantasy-land/compose":function(a){return l(this.fst)(a.snd)},"fantasy-land/map":function(a){return l(this.fst)(a(this.snd))},"fantasy-land/bimap":function(a,c){return l(a(this.fst))(c(this.snd))},"fantasy-land/reduce":function(a,c){return a(c,this.snd)},"fantasy-land/traverse":function(a,c){return q.map(l(this.fst),c(this.snd))},"fantasy-land/extend":function(a){return l(this.fst)(a(this))},"fantasy-land/extract":function(){return this.snd}};f=f.inspect.custom;"symbol"===typeof f?z[f]=h:z.inspect=h;$jscomp.initSymbol();$jscomp.initSymbol();$jscomp.initSymbolIterator();"function"===typeof Symbol&&"symbol"===typeof Symbol.iterator&&($jscomp.initSymbol(),$jscomp.initSymbolIterator(),z[Symbol.iterator]=function(){$jscomp.initSymbol();$jscomp.initSymbolIterator();return[this.fst,this.snd][Symbol.iterator]()});l.fst=function(a){return a.fst};l.snd=function(a){return a.snd};l.swap=function(a){return l(a.snd)(a.fst)};l["@@type"]="sanctuary-pair/Pair@1";return l})},{"sanctuary-show":8,"sanctuary-type-classes":9,util:15}],8:[function(f,n,x){(function(f){"object"===typeof n&&"object"===typeof n.exports?n.exports=f():"function"===typeof define&&null!=define.amd?define([],f):self.sanctuaryShow=f()})(function(){function f(f){return function(h){return a(h)+": "+a(f[h])}}function a(l){if(0<=q.indexOf(l))return"<Circular>";switch(Object.prototype.toString.call(l)){case "[object Boolean]":return"object"===typeof l?"new Boolean ("+a(l.valueOf())+")":l.toString();case "[object Number]":return"object"===typeof l?"new Number ("+a(l.valueOf())+")":-Infinity===1/l?"-0":l.toString(10);case "[object String]":return"object"===typeof l?"new String ("+a(l.valueOf())+")":JSON.stringify(l);case "[object Date]":return"new Date ("+a(isNaN(l.valueOf())?NaN:l.toISOString())+")";case "[object Error]":return"new "+l.name+" ("+a(l.message)+")";case "[object Arguments]":return"function () { return arguments; } ("+Array.prototype.map.call(l,a).join(", ")+")";case "[object Array]":q.push(l);try{return"["+l.map(a).concat(Object.keys(l).sort().filter(function(a){return!/^\d+$/.test(a)}).map(f(l))).join(", ")+"]"}finally{q.pop()}case "[object Object]":q.push(l);try{return"@@show"in l&&(null==l.constructor||l.constructor.prototype!==l)?l["@@show"]():"{"+Object.keys(l).sort().map(f(l)).join(", ")+"}"}finally{q.pop()}default:return String(l)}}var q=[];return a})},{}],9:[function(f,n,x){(function(w){"object"===typeof n&&"object"===typeof n.exports?n.exports=w(f("sanctuary-type-identifiers")):"function"===typeof define&&null!=define.amd?define(["sanctuary-type-identifiers"],w):self.sanctuaryTypeClasses=w(self.sanctuaryTypeIdentifiers)})(function(f){function a(a){return function(b){return a.concat(b)}}function q(a){return function(b){return a}}function l(a,e){Object.keys(a).forEach(e,a)}function h(a,e){return Object.prototype.hasOwnProperty.call(e,a)}function w(a){return a}function c(a){return function(b){return[a,b]}}function n(a,e){return typeof a===typeof e&&f(a)===f(e)}function v(a){return Object.keys(a).sort()}function x(a){return function(b){return b(a)}}function N(a){return function(b){return a(b)}}function Q(a){return{value:a,done:!1}}function z(a){return{value:a,done:!0}}function J(a,e,c,g){if(!(this instanceof J))return new J(a,e,c,g);this.name=a;this.url=e;this.test=function(a){return c.every(function(b){return b.test(a)})&&g(a)}}function A(a,e,c){for(var b=0;b<e.length;b+=1){var d=e[b];if(null==c||!a&&!h(d,c))return null;c=c[d]}return"function"===typeof c?c:null}function p(a,e,c){function b(a){var b="fantasy-land/"+a;return"Constructor"===c[a]?function(a){var e=A(!0,[b],a);return null==e&&"function"===typeof a?A(!1,[Fa(a),b],Ca):e}:function(a){var e=null;if(null==a||null==a.constructor||a.constructor.prototype!==a)e=A(!0,[b],a);null==e&&(e=A(!1,[f(a),"prototype",b],Ca));return e&&e.bind(a)}}var d=Object.keys(c);a=J("sanctuary-type-classes/"+a,"https://github.com/sanctuary-js/sanctuary-type-classes/tree/v11.0.0#"+a,e,function(a){return d.every(function(e){var k="Constructor"===c[e]?a.constructor:a;return null!=b(e)(k)})});a.methods=d.reduce(function(a,e){a[e]=b(e);return a},{});return a}function B(a){return[a]}function R(a){if(a.length!==this.length)return!1;for(var b=0;b<this.length;b+=1)if(!D(this[b],a[b]))return!1;return!0}function Y(a){for(var b=0;;b+=1){if(b===this.length)return!0;if(b===a.length)return!1;if(!D(this[b],a[b]))return L(this[b],a[b])}}function I(a){return this.concat(a)}function y(a){function b(a){c[a]=this[a]}var c={};l(this,b);l(a,b);return c}function ca(a,e){return n(a,e)&&!L(e,a)}function ja(a,e){return L(a,e)?a:e}function sa(a,e){return L(a,e)?e:a}function F(a,e){return ta.methods.concat(a)(e)}function T(a){return va.methods.empty(a)()}function fa(a,e){return Ga.methods.filter(e)(a)}function U(a,e){return V.methods.map(e)(a)}function r(a,e,c){return Ha.methods.bimap(c)(a,e)}function G(a,e){return pa.methods.ap(e)(a)}function Z(a,e,c){return G(U(a,e),c)}function S(a,c){return ka.methods.of(a)(c)}function Da(a,c){return M.methods.chain(c)(a)}function O(a,c,d){return ya.methods.reduce(d)(a,c)}function na(a,c){return Array.isArray(c)?c.some(N(a)):O(function(b,c){return b||a(c)},!1,c)}function za(a,c){var b=O(function(b,c){b.push({idx:b.length,x:c,fx:a(c)});return b},[],c),e=function(a){switch(typeof(a&&a.fx)){case "number":return function(a,b){return a<=b||a!==a};case "string":return function(a,b){return a<=b};default:return L}}(b[0]);b.sort(function(a,b){return e(a.fx,b.fx)?e(b.fx,a.fx)?a.idx-b.idx:-1:1});if(Array.isArray(c)){for(var d=0;d<b.length;d+=1)b[d]=b[d].x;return b}var h=c.constructor,f=T(h);for(d=0;d<b.length;d+=1)f=F(f,S(h,b[d].x));return f}function Ea(a,c,d){return Ia.methods.traverse(d)(a,c)}function Ja(a,c){return Ba.methods.extend(c)(a)}"undefined"!==typeof __doctest&&(__doctest.require("sanctuary-identity"),__doctest.require("./test/List"),__doctest.require("sanctuary-maybe"),__doctest.require("sanctuary-pair"),__doctest.require("./test/Sum"));J["@@type"]="sanctuary-type-classes/TypeClass@1";var Fa=h("name",function(){})?function(a){return a.name}:function(a){a=/function (\w*)/.exec(a);return null==a?"":a[1]},ma=p("Setoid",[],{equals:"Value"}),oa=p("Ord",[ma],{lte:"Value"}),aa=p("Semigroupoid",[],{compose:"Value"}),Aa=p("Category",[aa],{id:"Constructor"}),ta=p("Semigroup",[],{concat:"Value"}),va=p("Monoid",[ta],{empty:"Constructor"}),wa=p("Group",[va],{invert:"Value"}),Ga=p("Filterable",[],{filter:"Value"}),V=p("Functor",[],{map:"Value"}),Ha=p("Bifunctor",[V],{bimap:"Value"}),xa=p("Profunctor",[V],{promap:"Value"}),pa=p("Apply",[V],{ap:"Value"}),ka=p("Applicative",[pa],{of:"Constructor"}),M=p("Chain",[pa],{chain:"Value"}),K=p("ChainRec",[M],{chainRec:"Constructor"}),d=p("Monad",[ka,M],{}),m=p("Alt",[V],{alt:"Value"}),C=p("Plus",[m],{zero:"Constructor"}),ia=p("Alternative",[ka,C],{}),ya=p("Foldable",[],{reduce:"Value"}),Ia=p("Traversable",[V,ya],{traverse:"Value"}),Ba=p("Extend",[V],{extend:"Value"}),u=p("Comonad",[Ba],{extract:"Value"}),W=p("Contravariant",[],{contramap:"Value"}),Ca={Null:{prototype:{"fantasy-land/equals":function(a){return!0},"fantasy-land/lte":function(a){return!0}}},Undefined:{prototype:{"fantasy-land/equals":function(a){return!0},"fantasy-land/lte":function(a){return!0}}},Boolean:{prototype:{"fantasy-land/equals":function(a){return"object"===typeof this?D(this.valueOf(),a.valueOf()):this===a},"fantasy-land/lte":function(a){return"object"===typeof this?L(this.valueOf(),a.valueOf()):!1===this||!0===a}}},Number:{prototype:{"fantasy-land/equals":function(a){return"object"===typeof this?D(this.valueOf(),a.valueOf()):isNaN(this)&&isNaN(a)||this===a},"fantasy-land/lte":function(a){return"object"===typeof this?L(this.valueOf(),a.valueOf()):isNaN(this)||this<=a}}},Date:{prototype:{"fantasy-land/equals":function(a){return D(this.valueOf(),a.valueOf())},"fantasy-land/lte":function(a){return L(this.valueOf(),a.valueOf())}}},RegExp:{prototype:{"fantasy-land/equals":function(a){return a.source===this.source&&a.global===this.global&&a.ignoreCase===this.ignoreCase&&a.multiline===this.multiline&&a.sticky===this.sticky&&a.unicode===this.unicode}}},String:{"fantasy-land/empty":function(){return""},prototype:{"fantasy-land/equals":function(a){return"object"===typeof this?D(this.valueOf(),a.valueOf()):this===a},"fantasy-land/lte":function(a){return"object"===typeof this?L(this.valueOf(),a.valueOf()):this<=a},"fantasy-land/concat":function(a){return this+a}}},Array:{"fantasy-land/empty":function(){return[]},"fantasy-land/of":B,"fantasy-land/chainRec":function(a,c){for(var b=[],e={},d={head:c,tail:e};d!==e;){for(var h=e,f=a(Q,z,d.head),k=0;k<f.length;k+=1){var t=f[k];t.done?b.push(t.value):h={head:t.value,tail:h}}for(d=d.tail;h!==e;)d={head:h.head,tail:d},h=h.tail}return b},"fantasy-land/zero":function(){return[]},prototype:{"fantasy-land/equals":R,"fantasy-land/lte":Y,"fantasy-land/concat":I,"fantasy-land/filter":function(a){return this.filter(function(b){return a(b)})},"fantasy-land/map":function(a){return this.map(function(b){return a(b)})},"fantasy-land/ap":function(a){for(var b=[],c=0;c<a.length;c+=1)for(var d=0;d<this.length;d+=1)b.push(a[c](this[d]));return b},"fantasy-land/chain":function(a){for(var b=[],c=0;c<this.length;c+=1)for(var d=0,h=a(this[c]);d<h.length;d+=1)b.push(h[d]);return b},"fantasy-land/alt":I,"fantasy-land/reduce":function(a,c){for(var b=c,e=0;e<this.length;e+=1)b=a(b,this[e]);return b},"fantasy-land/traverse":function(b,e){function d(h,f){switch(f){case 0:return S(b,[]);case 2:return Z(c,e(g[h]),e(g[h+1]));default:var r=2*Math.floor(f/4);return Z(a,d(h,r),d(h+r,f-r))}}var g=this;return 1===this.length%2?Z(a,U(B,e(this[0])),d(1,this.length-1)):d(0,this.length)},"fantasy-land/extend":function(a){return this.map(function(b,c,d){return a(d.slice(c))})}}},Arguments:{prototype:{"fantasy-land/equals":function(a){return R.call(this,a)},"fantasy-land/lte":function(a){return Y.call(this,a)}}},Error:{prototype:{"fantasy-land/equals":function(a){return D(this.name,a.name)&&D(this.message,a.message)}}},Object:{"fantasy-land/empty":function(){return{}},"fantasy-land/zero":function(){return{}},prototype:{"fantasy-land/equals":function(a){var b=this,c=v(this);return D(c,v(a))&&c.every(function(c){return D(b[c],a[c])})},"fantasy-land/lte":function(a){for(var b=v(this),c=v(a);;){if(0===b.length)return!0;if(0===c.length)return!1;var d=b.shift(),h=c.shift();if(d<h)return!0;if(d>h)return!1;if(!D(this[d],a[d]))return L(this[d],a[d])}},"fantasy-land/concat":y,"fantasy-land/filter":function(a){var b={};l(this,function(c){a(this[c])&&(b[c]=this[c])});return b},"fantasy-land/map":function(a){var b={};l(this,function(c){b[c]=a(this[c])});return b},"fantasy-land/ap":function(a){var b={};l(this,function(c){h(c,a)&&(b[c]=a[c](this[c]))});return b},"fantasy-land/alt":y,"fantasy-land/reduce":function(a,c){var b=this;return v(this).reduce(function(c,e){return a(c,b[e])},c)},"fantasy-land/traverse":function(a,c){var b=this;return Object.keys(this).reduce(function(a,e){return Z(function(a){return function(b){var c={};c[e]=b;return y.call(a,c)}},a,c(b[e]))},S(a,{}))}}},Function:{"fantasy-land/id":function(){return w},"fantasy-land/of":function(a){return function(b){return a}},"fantasy-land/chainRec":function(a,c){return function(b){for(var e=Q(c);!e.done;)e=a(Q,z,e.value)(b);return e.value}},prototype:{"fantasy-land/equals":function(a){return a===this},"fantasy-land/compose":function(a){var b=this;return function(c){return a(b(c))}},"fantasy-land/map":function(a){var b=this;return function(c){return a(b(c))}},"fantasy-land/promap":function(a,c){var b=this;return function(e){return c(b(a(e)))}},"fantasy-land/ap":function(a){var b=this;return function(c){return a(c)(b(c))}},"fantasy-land/chain":function(a){var b=this;return function(c){return a(b(c))(c)}},"fantasy-land/extend":function(a){var b=this;return function(c){return a(function(a){return b(F(c,a))})}},"fantasy-land/contramap":function(a){var b=this;return function(c){return b(a(c))}}}}},D=function(){var a=[];return function(b,c){if(!n(b,c))return!1;if(a.some(function(a){return a[0]===b&&a[1]===c}))return!0;a.push([b,c]);try{return ma.test(b)&&ma.test(c)&&ma.methods.equals(b)(c)}finally{a.pop()}}}(),L=function(){var a=[];return function(b,c){if(!n(b,c))return!1;if(a.some(function(a){return a[0]===b&&a[1]===c}))return D(b,c);a.push([b,c]);try{return oa.test(b)&&oa.test(c)&&oa.methods.lte(b)(c)}finally{a.pop()}}}();return{TypeClass:J,Setoid:ma,Ord:oa,Semigroupoid:aa,Category:Aa,Semigroup:ta,Monoid:va,Group:wa,Filterable:Ga,Functor:V,Bifunctor:Ha,Profunctor:xa,Apply:pa,Applicative:ka,Chain:M,ChainRec:K,Monad:d,Alt:m,Plus:C,Alternative:ia,Foldable:ya,Traversable:Ia,Extend:Ba,Comonad:u,Contravariant:W,equals:D,lt:ca,lte:L,gt:function(a,c){return ca(c,a)},gte:function(a,c){return L(c,a)},min:ja,max:sa,clamp:function(a,c,d){return sa(a,ja(c,d))},compose:function(a,c){return aa.methods.compose(c)(a)},id:function(a){return Aa.methods.id(a)()},concat:F,empty:T,invert:function(a){return wa.methods.invert(a)()},filter:fa,reject:function(a,c){return fa(function(b){return!a(b)},c)},map:U,flip:function(a,c){return V.methods.map(a)(x(c))},bimap:r,mapLeft:function(a,c){return r(a,w,c)},promap:function(a,c,d){return xa.methods.promap(d)(a,c)},ap:G,lift2:Z,lift3:function(a,c,d,g){return G(G(U(a,c),d),g)},apFirst:function(a,c){return Z(q,a,c)},apSecond:function(a,c){return Z(q(w),a,c)},of:S,append:function(a,c){return F(c,S(c.constructor,a))},prepend:function(a,c){return F(S(c.constructor,a),c)},chain:Da,join:function(a){return Da(w,a)},chainRec:function(a,c,d){return K.methods.chainRec(a)(c,d)},alt:function(a,c){return m.methods.alt(a)(c)},zero:function(a){return C.methods.zero(a)()},reduce:O,size:function(a){return Array.isArray(a)?a.length:O(function(a,b){return a+1},0,a)},all:function(a,c){return Array.isArray(c)?c.every(N(a)):O(function(b,c){return b&&a(c)},!0,c)},any:na,none:function(a,c){return!na(a,c)},elem:function(a,c){return na(function(b){return D(a,b)},c)},foldMap:function(a,c,d){return O(function(a,b){return F(a,c(b))},T(a),d)},reverse:function(a){if(Array.isArray(a))return a.slice().reverse();var b=a.constructor;return O(function(a,c){return F(S(b,c),a)},T(b),a)},sort:function(a){return za(w,a)},sortBy:za,traverse:Ea,sequence:function(a,c){return Ea(a,w,c)},extend:Ja,duplicate:function(a){return Ja(w,a)},extract:function(a){return u.methods.extract(a)()},contramap:function(a,c){return W.methods.contramap(c)(a)}}})},{"sanctuary-type-identifiers":10}],10:[function(f,n,x){(function(f){"object"===typeof n&&"object"===typeof n.exports?n.exports=f():"function"===typeof define&&null!=define.amd?define([],f):self.sanctuaryTypeIdentifiers=f()})(function(){function f(a){return null!=a&&null!=a.constructor&&a.constructor.prototype!==a&&"string"===typeof a.constructor["@@type"]?a.constructor["@@type"]:Object.prototype.toString.call(a).slice(8,-1)}var a=/^([\s\S]+)\/([\s\S]+?)(?:@([0-9]+))?$/;f.parse=function(f){var l=a.exec(f);return{namespace:null==l||null==l[1]?null:l[1],name:null==l?f:l[2],version:null==l||null==l[3]?0:Number(l[3])}};return f})},{}],11:[function(f,n,x){(function(w){(function(a){"object"===typeof n&&"object"===typeof n.exports?n.exports=a(f("sanctuary-def"),f("sanctuary-either"),f("sanctuary-maybe"),f("sanctuary-pair"),f("sanctuary-show"),f("sanctuary-type-classes"),f("sanctuary-type-identifiers")):"function"===typeof define&&null!=define.amd?define("sanctuary-def sanctuary-either sanctuary-maybe sanctuary-pair sanctuary-show sanctuary-type-classes sanctuary-type-identifiers".split(" "),a):self.sanctuary=a(self.sanctuaryDef,self.sanctuaryEither,self.sanctuaryMaybe,self.sanctuaryPair,self.sanctuaryShow,self.sanctuaryTypeClasses,self.sanctuaryTypeIdentifiers)})(function(a,q,l,h,n,c,x){function v(a){return function(b){return function(c){return a(b(c))}}}function la(a){return function(b){return function(c){return a(c)(b)}}}function N(a){return v(function(b){return a in b?K(b[a]):M})(J)}function Q(a){return function(b){return b[a]()}}function z(a){return function(b){return function(c){return c[a](b)}}}function J(a){return null==a?Object.create(null):Object(a)}function A(b){var c=a.create(b),k={env:b.env,is:c("is")({})([a.Type,a.Any,a.Boolean])(a.test(b.env)),Maybe:l,Nothing:M,Either:q};Object.keys(g).forEach(function(a){k[a]=c(a)(g[a].consts)(g[a].types)(g[a].impl)});k.unchecked=b.checkTypes?A({checkTypes:!1,env:b.env}):k;return k}function p(a){return function(b){return c.equals(a,b)}}function B(a){return function(b){return c.gt(b,a)}}function R(a){return function(b){return c.filter(a,b)}}function Y(a){return function(b){return c.reject(a,b)}}function I(a){return function(b){return c.map(a,b)}}function y(a){return function(b){return function(k){return c.reduce(function(b,c){return a(b)(c)},b,k)}}}function ca(a){return a}function ja(a){return function(b){return a}}function sa(a){return function(b){return b(a)}}function F(a){return function(b){return function(c){return a(b,c)}}}function T(a){return function(b){return function(c){return function(k){return a(b,c,k)}}}}function fa(a){return function(b){return function(c){return function(k){return function(d){return a(b,c,k,d)}}}}}function U(a){return function(b){return a(b.fst)(b.snd)}}function r(a){return a.isJust}function G(a){return function(b){return function(c){return c.isJust?b(c.value):a}}}function Z(a){return function(b){return function(c){return c.isJust?b(c.value):a()}}}function S(a){return I(ta("value"))(R(r)(a))}function Da(a){return a.isLeft}function O(a){return a.isRight}function na(a){return function(b){return function(c){return(c.isLeft?a:b)(c.value)}}}function za(a){return function(b){try{return ka(a(b))}catch(ba){return pa(ba)}}}function Ea(a){return a.isLeft?M:K(a.value)}function ra(a){return!a}function Fa(a){return function(b){return function(c){return function(d){return(a(d)?b:c)(d)}}}}function ma(a,b){return function(d){return function(k){if(0>d)return M;if(Array.isArray(k))return d<=k.length?K(a(d,k)):M;k=c.reduce(function(a,d){return c.map(function(a){var c=a.fst;a=a.snd;return h(c-1)(b(c,a,d))},a)},K(h(d)(c.empty(k.constructor))),k);return c.map(h.snd,c.reject(v(B(0))(h.fst),k))}}}function oa(a){return function(b){return c.append(a,b)}}function aa(a){return function(b){var c=[];for(b=a(b);b.isJust;b=a(b.value.snd))c.push(b.value.fst);return c}}function Aa(a){return function(b){return function(c){for(var d=[],k=Math.min(b.length,c.length),e=0;e<k;e+=1)d.push(a(b[e])(c[e]));return d}}}function ta(a){return function(b){var c=J(b);if(a in c)return c[a];throw new TypeError("\u2018prop\u2019 expected object to have a property named \u2018"+a+"\u2019; "+n(b)+" does not");}}function va(a){return function(b){var c={};c[a]=b;return c}}function wa(a){return function(b){return a+b}}function Ga(a){return function(b){return a*b}}function V(a){return{match:a[0],groups:c.map(v(Y(p(void 0)))(K),a.slice(1))}}function Ha(a,b){var c=a.lastIndex,d=b();a.lastIndex=c;return d}if("undefined"!==typeof __doctest){__doctest.require("sanctuary-descending");__doctest.require("./test/internal/List");__doctest.require("./test/internal/List");var xa=__doctest.require("./test/internal/Sum");(function(b){var c=b.create({checkTypes:!0,env:b.env.concat([__doctest.require("./test/internal/List").Type(a.Unknown),xa.Type])});c.env=b.env;return c})(f("."))}var pa=q.Left,ka=q.Right,M=l.Nothing,K=l.Just,d=a.TypeVariable("a"),m=a.TypeVariable("b"),C=a.TypeVariable("c"),ia=a.TypeVariable("d"),ya=a.TypeVariable("e"),Ia=a.TypeVariable("g"),Ba=a.TypeVariable("r"),u=a.UnaryTypeVariable("f"),W=a.UnaryTypeVariable("m"),Ca=a.UnaryTypeVariable("t"),D=a.UnaryTypeVariable("w"),L=a.BinaryTypeVariable("p"),b=a.BinaryTypeVariable("s"),e=a.UnaryType("TypeRep")("https://github.com/fantasyland/fantasy-land#type-representatives")([])(function(b){return a.test([])(a.AnyFunction)(b)||null!=b&&a.test([])(a.String)(b["@@type"])})(ja([])),H=a.RecordType({checkTypes:a.Boolean,env:a.Array(a.Any)}),g={};g.create={consts:{},types:[H,a.Object],impl:A};g.type={consts:{},types:[a.Any,a.RecordType({namespace:a.Maybe(a.String),name:a.String,version:a.NonNegativeInteger})],impl:function(a){a=x.parse(x(a));a.namespace=c.reject(p(null),K(a.namespace));return a}};g.show={consts:{},types:[a.Any,a.String],impl:n};g.equals={consts:{a:[c.Setoid]},types:[d,d,a.Boolean],impl:p};g.lt={consts:{a:[c.Ord]},types:[d,d,a.Boolean],impl:function(a){return function(b){return c.lt(b,a)}}};g.lte={consts:{a:[c.Ord]},types:[d,d,a.Boolean],impl:function(a){return function(b){return c.lte(b,a)}}};g.gt={consts:{a:[c.Ord]},types:[d,d,a.Boolean],impl:B};g.gte={consts:{a:[c.Ord]},types:[d,d,a.Boolean],impl:function(a){return function(b){return c.gte(b,a)}}};g.min={consts:{a:[c.Ord]},types:[d,d,d],impl:F(c.min)};g.max={consts:{a:[c.Ord]},types:[d,d,d],impl:F(c.max)};g.clamp={consts:{a:[c.Ord]},types:[d,d,d,d],impl:T(c.clamp)};g.id={consts:{c:[c.Category]},types:[e(C),C],impl:c.id};g.concat={consts:{a:[c.Semigroup]},types:[d,d,d],impl:F(c.concat)};g.empty={consts:{a:[c.Monoid]},types:[e(d),d],impl:c.empty};g.invert={consts:{g:[c.Group]},types:[Ia,Ia],impl:c.invert};g.filter={consts:{f:[c.Filterable]},types:[a.Predicate(d),u(d),u(d)],impl:R};g.reject={consts:{f:[c.Filterable]},types:[a.Predicate(d),u(d),u(d)],impl:Y};g.map={consts:{f:[c.Functor]},types:[a.Fn(d)(m),u(d),u(m)],impl:I};g.flip={consts:{f:[c.Functor]},types:[u(a.Fn(d)(m)),d,u(m)],impl:F(c.flip)};g.bimap={consts:{p:[c.Bifunctor]},types:[a.Fn(d)(m),a.Fn(C)(ia),L(d)(C),L(m)(ia)],impl:T(c.bimap)};g.mapLeft={consts:{p:[c.Bifunctor]},types:[a.Fn(d)(m),L(d)(C),L(m)(C)],impl:F(c.mapLeft)};g.promap={consts:{p:[c.Profunctor]},types:[a.Fn(d)(m),a.Fn(C)(ia),L(m)(C),L(d)(ia)],impl:T(c.promap)};g.alt={consts:{f:[c.Alt]},types:[u(d),u(d),u(d)],impl:function(a){return function(b){return c.alt(b,a)}}};g.zero={consts:{f:[c.Plus]},types:[e(u(d)),u(d)],impl:c.zero};g.reduce={consts:{f:[c.Foldable]},types:[a.Fn(d)(a.Fn(m)(d)),d,u(m),d],impl:y};g.traverse={consts:{f:[c.Applicative],t:[c.Traversable]},types:[e(u(m)),a.Fn(d)(u(m)),Ca(d),u(Ca(m))],impl:T(c.traverse)};g.sequence={consts:{f:[c.Applicative],t:[c.Traversable]},types:[e(u(d)),Ca(u(d)),u(Ca(d))],impl:F(c.sequence)};g.ap={consts:{f:[c.Apply]},types:[u(a.Fn(d)(m)),u(d),u(m)],impl:F(c.ap)};g.lift2={consts:{f:[c.Apply]},types:[a.Fn(d)(a.Fn(m)(C)),u(d),u(m),u(C)],impl:T(c.lift2)};g.lift3={consts:{f:[c.Apply]},types:[a.Fn(d)(a.Fn(m)(a.Fn(C)(ia))),u(d),u(m),u(C),u(ia)],impl:fa(c.lift3)};g.apFirst={consts:{f:[c.Apply]},types:[u(d),u(m),u(d)],impl:F(c.apFirst)};g.apSecond={consts:{f:[c.Apply]},types:[u(d),u(m),u(m)],impl:F(c.apSecond)};g.of={consts:{f:[c.Applicative]},types:[e(u(d)),d,u(d)],impl:function(a){return function(b){return c.of(a,b)}}};g.chain={consts:{m:[c.Chain]},types:[a.Fn(d)(W(m)),W(d),W(m)],impl:F(c.chain)};g.join={consts:{m:[c.Chain]},types:[W(W(d)),W(d)],impl:c.join};g.chainRec={consts:{m:[c.ChainRec]},types:[e(W(m)),a.Fn(d)(W(a.Either(d)(m))),d,W(m)],impl:function(a){return function(b){function d(a,d,e){return c.map(na(a)(d),b(e))}return function(b){return c.chainRec(a,d,b)}}}};g.extend={consts:{w:[c.Extend]},types:[a.Fn(D(d))(m),D(d),D(m)],impl:F(c.extend)};g.duplicate={consts:{w:[c.Extend]},types:[D(d),D(D(d))],impl:c.duplicate};g.extract={consts:{w:[c.Comonad]},types:[D(d),d],impl:c.extract};g.contramap={consts:{f:[c.Contravariant]},types:[a.Fn(m)(d),u(d),u(m)],impl:F(c.contramap)};g.I={consts:{},types:[d,d],impl:ca};g.K={consts:{},types:[d,m,d],impl:ja};g.T={consts:{},types:[d,a.Fn(d)(m),m],impl:sa};g.curry2={consts:{},types:[a.Function([d,m,C]),d,m,C],impl:F};g.curry3={consts:{},types:[a.Function([d,m,C,ia]),d,m,C,ia],impl:T};g.curry4={consts:{},types:[a.Function([d,m,C,ia,ya]),d,m,C,ia,ya],impl:fa};g.curry5={consts:{},types:[a.Function([d,m,C,ia,ya,Ba]),d,m,C,ia,ya,Ba],impl:function(a){return function(b){return function(c){return function(d){return function(e){return function(k){return a(b,c,d,e,k)}}}}}}};g.compose={consts:{s:[c.Semigroupoid]},types:[b(m)(C),b(d)(m),b(d)(C)],impl:F(c.compose)};g.pipe={consts:{f:[c.Foldable]},types:[u(a.Fn(a.Any)(a.Any)),d,m],impl:function(a){return function(b){return y(sa)(b)(a)}}};g.pipeK={consts:{f:[c.Foldable],m:[c.Chain]},types:[u(a.Fn(a.Any)(W(a.Any))),W(d),W(m)],impl:function(a){return function(b){return c.reduce(function(a,b){return c.chain(b,a)},b,a)}}};g.on={consts:{},types:[a.Fn(m)(a.Fn(m)(C)),a.Fn(d)(m),d,d,C],impl:function(a){return function(b){return function(c){return function(d){return a(b(c))(b(d))}}}}};g.Pair={consts:{},types:[d,m,a.Pair(d)(m)],impl:h};g.pair={consts:{},types:[a.Fn(d)(a.Fn(m)(C)),a.Pair(d)(m),C],impl:U};g.fst={consts:{},types:[a.Pair(d)(m),d],impl:U(ja)};g.snd={consts:{},types:[a.Pair(d)(m),m],impl:U(la(ja))};g.swap={consts:{},types:[a.Pair(d)(m),a.Pair(m)(d)],impl:U(la(h))};g.Just={consts:{},types:[d,a.Maybe(d)],impl:K};g.isNothing={consts:{},types:[a.Maybe(d),a.Boolean],impl:function(a){return a.isNothing}};g.isJust={consts:{},types:[a.Maybe(d),a.Boolean],impl:r};g.fromMaybe={consts:{},types:[d,a.Maybe(d),d],impl:la(G)(ca)};g.fromMaybe_={consts:{},types:[a.Thunk(d),a.Maybe(d),d],impl:la(Z)(ca)};g.maybeToNullable={consts:{},types:[a.Maybe(d),a.Nullable(d)],impl:function(a){return a.isJust?a.value:null}};g.maybe={consts:{},types:[m,a.Fn(d)(m),a.Maybe(d),m],impl:G};g.maybe_={consts:{},types:[a.Thunk(m),a.Fn(d)(m),a.Maybe(d),m],impl:Z};g.justs={consts:{f:[c.Filterable,c.Functor]},types:[u(a.Maybe(d)),u(d)],impl:S};g.mapMaybe={consts:{f:[c.Filterable,c.Functor]},types:[a.Fn(d)(a.Maybe(m)),u(d),u(m)],impl:v(v(S))(I)};g.maybeToEither={consts:{},types:[d,a.Maybe(m),a.Either(d)(m)],impl:function(a){return G(pa(a))(ka)}};g.Left={consts:{},types:[d,a.Either(d)(m)],impl:pa};g.Right={consts:{},types:[m,a.Either(d)(m)],impl:ka};g.isLeft={consts:{},types:[a.Either(d)(m),a.Boolean],impl:Da};g.isRight={consts:{},types:[a.Either(d)(m),a.Boolean],impl:O};g.fromEither={consts:{},types:[m,a.Either(d)(m),m],impl:function(a){return na(ja(a))(ca)}};g.either={consts:{},types:[a.Fn(d)(C),a.Fn(m)(C),a.Either(d)(m),C],impl:na};g.lefts={consts:{f:[c.Filterable,c.Functor]},types:[u(a.Either(d)(m)),u(d)],impl:v(I(ta("value")))(R(Da))};g.rights={consts:{f:[c.Filterable,c.Functor]},types:[u(a.Either(d)(m)),u(m)],impl:v(I(ta("value")))(R(O))};g.tagBy={consts:{},types:[a.Predicate(d),d,a.Either(d)(d)],impl:function(a){return Fa(a)(ka)(pa)}};g.encase={consts:{},types:[a.Fn(d)(m),d,a.Either(a.Error)(m)],impl:za};g.eitherToMaybe={consts:{},types:[a.Either(d)(m),a.Maybe(m)],impl:Ea};g.and={consts:{},types:[a.Boolean,a.Boolean,a.Boolean],impl:function(a){return function(b){return a&&b}}};g.or={consts:{},types:[a.Boolean,a.Boolean,a.Boolean],impl:function(a){return function(b){return a||b}}};g.not={consts:{},types:[a.Boolean,a.Boolean],impl:ra};g.complement={consts:{},types:[a.Predicate(d),d,a.Boolean],impl:v(ra)};g["boolean"]={consts:{},types:[d,d,a.Boolean,d],impl:function(a){return function(b){return function(c){return c?b:a}}}};g.ifElse={consts:{},types:[a.Predicate(d),a.Fn(d)(m),a.Fn(d)(m),d,m],impl:Fa};g.when={consts:{},types:[a.Predicate(d),a.Fn(d)(d),d,d],impl:function(a){return la(Fa(a))(ca)}};g.unless={consts:{},types:[a.Predicate(d),a.Fn(d)(d),d,d],impl:function(a){return Fa(a)(ca)}};g.array={consts:{},types:[m,a.Fn(d)(a.Fn(a.Array(d))(m)),a.Array(d),m],impl:function(a){return function(b){return function(c){return 0===c.length?a:b(c[0])(c.slice(1))}}}};g.head={consts:{f:[c.Foldable]},types:[u(d),a.Maybe(d)],impl:function(a){return Array.isArray(a)?0<a.length?K(a[0]):M:c.reduce(function(a,b){return a.isJust?a:K(b)},M,a)}};g.last={consts:{f:[c.Foldable]},types:[u(d),a.Maybe(d)],impl:function(a){return Array.isArray(a)?0<a.length?K(a[a.length-1]):M:c.reduce(function(a,b){return K(b)},M,a)}};g.tail={consts:{f:[c.Applicative,c.Foldable,c.Monoid]},types:[u(d),a.Maybe(u(d))],impl:function(a){if(Array.isArray(a))return 0<a.length?K(a.slice(1)):M;var b=c.empty(a.constructor);return c.reduce(function(a,c){return K(G(b)(oa(c))(a))},M,a)}};g.init={consts:{f:[c.Applicative,c.Foldable,c.Monoid]},types:[u(d),a.Maybe(u(d))],impl:function(a){if(Array.isArray(a))return 0<a.length?K(a.slice(0,-1)):M;var b=c.empty(a.constructor);return c.map(h.snd,c.reduce(function(a,c){return K(h(c)(G(b)(U(oa))(a)))},M,a))}};var Ma=ma(function(a,b){return b.slice(0,a)},function(a,b,d){return 0<a?c.append(d,b):b});g.take={consts:{f:[c.Applicative,c.Foldable,c.Monoid]},types:[a.Integer,u(d),a.Maybe(u(d))],impl:Ma};var Ra=ma(function(a,b){return b.slice(a)},function(a,b,d){return 0<a?b:c.append(d,b)});g.drop={consts:{f:[c.Applicative,c.Foldable,c.Monoid]},types:[a.Integer,u(d),a.Maybe(u(d))],impl:Ra};g.takeLast={consts:{f:[c.Applicative,c.Foldable,c.Monoid]},types:[a.Integer,u(d),a.Maybe(u(d))],impl:function(a){return function(b){return c.map(c.reverse,Ma(a)(c.reverse(b)))}}};g.dropLast={consts:{f:[c.Applicative,c.Foldable,c.Monoid]},types:[a.Integer,u(d),a.Maybe(u(d))],impl:function(a){return function(b){return c.map(c.reverse,Ra(a)(c.reverse(b)))}}};g.takeWhile={consts:{},types:[a.Predicate(d),a.Array(d),a.Array(d)],impl:function(a){return function(b){for(var c=0;c<b.length&&a(b[c]);)c+=1;return b.slice(0,c)}}};g.dropWhile={consts:{},types:[a.Predicate(d),a.Array(d),a.Array(d)],impl:function(a){return function(b){for(var c=0;c<b.length&&a(b[c]);)c+=1;return b.slice(c)}}};g.size={consts:{f:[c.Foldable]},types:[u(d),a.Integer],impl:c.size};g.all={consts:{f:[c.Foldable]},types:[a.Predicate(d),u(d),a.Boolean],impl:F(c.all)};g.any={consts:{f:[c.Foldable]},types:[a.Predicate(d),u(d),a.Boolean],impl:F(c.any)};g.none={consts:{f:[c.Foldable]},types:[a.Predicate(d),u(d),a.Boolean],impl:F(c.none)};g.append={consts:{f:[c.Applicative,c.Semigroup]},types:[d,u(d),u(d)],impl:oa};g.prepend={consts:{f:[c.Applicative,c.Semigroup]},types:[d,u(d),u(d)],impl:F(c.prepend)};g.joinWith={consts:{},types:[a.String,a.Array(a.String),a.String],impl:z("join")};g.elem={consts:{a:[c.Setoid],f:[c.Foldable]},types:[d,u(d),a.Boolean],impl:F(c.elem)};g.find={consts:{f:[c.Foldable]},types:[a.Predicate(d),u(d),a.Maybe(d)],impl:function(a){return function(b){return c.reduce(function(b,c){return b.isJust?b:a(c)?K(c):M},M,b)}}};g.foldMap={consts:{b:[c.Monoid],f:[c.Foldable]},types:[e(m),a.Fn(d)(m),u(d),m],impl:T(c.foldMap)};g.unfoldr={consts:{},types:[a.Fn(m)(a.Maybe(a.Pair(d)(m))),m,a.Array(d)],impl:aa};g.range={consts:{},types:[a.Integer,a.Integer,a.Array(a.Integer)],impl:function(a){return function(b){for(var c=[],d=a;d<b;d+=1)c.push(d);return c}}};g.groupBy={consts:{},types:[a.Fn(d)(a.Predicate(d)),a.Array(d),a.Array(a.Array(d))],impl:function(a){return function(b){if(0===b.length)return[];for(var c=b[0],d=[c],e=[d],g=1;g<b.length;g+=1){var k=b[g];a(c)(k)?d.push(k):e.push(d=[c=k])}return e}}};g.reverse={consts:{f:[c.Applicative,c.Foldable,c.Monoid]},types:[u(d),u(d)],impl:c.reverse};g.sort={consts:{a:[c.Ord],m:[c.Applicative,c.Foldable,c.Monoid]},types:[W(d),W(d)],impl:c.sort};g.sortBy={consts:{b:[c.Ord],m:[c.Applicative,c.Foldable,c.Monoid]},types:[a.Fn(d)(m),W(d),W(d)],impl:F(c.sortBy)};g.zip={consts:{},types:[a.Array(d),a.Array(m),a.Array(a.Pair(d)(m))],impl:Aa(h)};g.zipWith={consts:{},types:[a.Fn(d)(a.Fn(m)(C)),a.Array(d),a.Array(m),a.Array(C)],impl:Aa};g.prop={consts:{},types:[a.String,d,m],impl:ta};g.props={consts:{},types:[a.Array(a.String),d,m],impl:function(a){return function(b){return a.reduce(function(b,c){var d=J(b);if(c in d)return d[c];throw new TypeError("\u2018props\u2019 expected object to have a property at "+n(a)+"; "+n(b)+" does not");},b)}}};g.get={consts:{},types:[a.Predicate(a.Any),a.String,d,a.Maybe(m)],impl:function(a){return v(v(R(a)))(N)}};g.gets={consts:{},types:[a.Predicate(a.Any),a.Array(a.String),d,a.Maybe(m)],impl:function(a){return function(b){return function(d){return c.filter(a,b.reduce(function(a,b){return c.chain(N(b),a)},K(d)))}}}};g.value={consts:{},types:[a.String,a.StrMap(d),a.Maybe(d)],impl:function(a){return function(b){return Object.prototype.propertyIsEnumerable.call(b,a)?K(b[a]):M}}};g.singleton={consts:{},types:[a.String,d,a.StrMap(d)],impl:va};g.insert={consts:{},types:[a.String,d,a.StrMap(d),a.StrMap(d)],impl:function(a){return function(b){return function(d){return c.concat(d,va(a)(b))}}}};g.remove={consts:{},types:[a.String,a.StrMap(d),a.StrMap(d)],impl:function(a){return function(b){b=c.concat(b,{});delete b[a];return b}}};g.keys={consts:{},types:[a.StrMap(d),a.Array(a.String)],impl:Object.keys};g.values={consts:{},types:[a.StrMap(d),a.Array(d)],impl:function(a){return c.map(function(b){return a[b]},Object.keys(a))}};g.pairs={consts:{},types:[a.StrMap(d),a.Array(a.Pair(a.String)(d))],impl:function(a){return c.map(function(b){return h(b)(a[b])},Object.keys(a))}};g.fromPairs={consts:{f:[c.Foldable]},types:[u(a.Pair(a.String)(d)),a.StrMap(d)],impl:function(a){return c.reduce(function(a,b){a[b.fst]=b.snd;return a},{},a)}};g.negate={consts:{},types:[a.ValidNumber,a.ValidNumber],impl:function(a){return-a}};g.add={consts:{},types:[a.FiniteNumber,a.FiniteNumber,a.FiniteNumber],impl:wa};g.sum={consts:{f:[c.Foldable]},types:[u(a.FiniteNumber),a.FiniteNumber],impl:y(wa)(0)};g.sub={consts:{},types:[a.FiniteNumber,a.FiniteNumber,a.FiniteNumber],impl:function(a){return function(b){return b-a}}};g.mult={consts:{},types:[a.FiniteNumber,a.FiniteNumber,a.FiniteNumber],impl:Ga};g.product={consts:{f:[c.Foldable]},types:[u(a.FiniteNumber),a.FiniteNumber],impl:y(Ga)(1)};g.div={consts:{},types:[a.NonZeroFiniteNumber,a.FiniteNumber,a.FiniteNumber],impl:function(a){return function(b){return b/a}}};g.pow={consts:{},types:[a.FiniteNumber,a.FiniteNumber,a.FiniteNumber],impl:function(a){return function(b){return Math.pow(b,a)}}};g.mean={consts:{f:[c.Foldable]},types:[u(a.FiniteNumber),a.Maybe(a.FiniteNumber)],impl:function(a){a=c.reduce(function(a,b){a.total+=b;a.count+=1;return a},{total:0,count:0},a);return 0<a.count?K(a.total/a.count):M}};g.even={consts:{},types:[a.Integer,a.Boolean],impl:function(a){return 0===a%2}};g.odd={consts:{},types:[a.Integer,a.Boolean],impl:function(a){return 0!==a%2}};g.parseDate={consts:{},types:[a.String,a.Maybe(a.ValidDate)],impl:function(a){a=new Date(a);return isNaN(a.valueOf())?M:K(a)}};var ab=/^\s*[+-]?(?:Infinity|NaN|(?:[0-9]+|[0-9]+[.][0-9]+|[0-9]+[.]|[.][0-9]+)(?:[Ee][+-]?[0-9]+)?)\s*$/;g.parseFloat={consts:{},types:[a.String,a.Maybe(a.Number)],impl:function(a){return ab.test(a)?K(parseFloat(a)):M}};m=a.NullaryType("Radix")("")([a.Integer])(function(a){return 2<=a&&36>=a});g.parseInt={consts:{},types:[m,a.String,a.Maybe(a.Integer)],impl:function(b){return function(c){var d="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ".slice(0,b);d=new RegExp("^["+d+"]+$","i");var e=c.replace(/^[+-]/,"");return d.test(16===b?e.replace(/^0x/i,""):e)&&(c=parseInt(c,b),a.test([])(a.Integer)(c))?K(c):M}}};g.parseJson={consts:{},types:[a.Predicate(a.Any),a.String,a.Maybe(d)],impl:function(a){return v(R(a))(v(Ea)(za(JSON.parse)))}};d=a.RecordType({match:a.String,groups:a.Array(a.Maybe(a.String))});g.regex={consts:{},types:[a.RegexFlags,a.String,a.RegExp],impl:function(a){return function(b){return new RegExp(b,a)}}};g.regexEscape={consts:{},types:[a.String,a.String],impl:function(a){return a.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")}};g.test={consts:{},types:[a.RegExp,a.String,a.Boolean],impl:function(a){return function(b){return Ha(a,function(){return a.test(b)})}}};g.match={consts:{},types:[a.NonGlobalRegExp,a.String,a.Maybe(d)],impl:function(a){return function(b){return c.map(V,c.reject(p(null),K(b.match(a))))}}};g.matchAll={consts:{},types:[a.GlobalRegExp,a.String,a.Array(d)],impl:function(a){return function(b){return Ha(a,function(){return aa(function(d){return c.map(function(a){return h(V(a))(null)},c.reject(p(null),K(a.exec(b))))})([])})}}};g.toUpper={consts:{},types:[a.String,a.String],impl:Q("toUpperCase")};g.toLower={consts:{},types:[a.String,a.String],impl:Q("toLowerCase")};g.trim={consts:{},types:[a.String,a.String],impl:Q("trim")};g.stripPrefix={consts:{},types:[a.String,a.String,a.Maybe(a.String)],impl:function(a){return function(b){var c=a.length;return b.slice(0,c)===a?K(b.slice(c)):M}}};g.stripSuffix={consts:{},types:[a.String,a.String,a.Maybe(a.String)],impl:function(a){return function(b){var c=b.length-a.length;return b.slice(c)===a?K(b.slice(0,c)):M}}};g.words={consts:{},types:[a.String,a.Array(a.String)],impl:function(a){a=a.split(/\s+/);var b=a.length;return a.slice(""===a[0]?1:0,""===a[b-1]?b-1:b)}};g.unwords={consts:{},types:[a.Array(a.String),a.String],impl:z("join")(" ")};g.lines={consts:{},types:[a.String,a.Array(a.String)],impl:function(a){return""===a?[]:a.replace(/\r\n?/g,"\n").match(/^(?=[\s\S]).*/gm)}};g.unlines={consts:{},types:[a.Array(a.String),a.String],impl:function(a){return a.reduce(function(a,b){return a+b+"\n"},"")}};g.splitOn={consts:{},types:[a.String,a.String,a.Array(a.String)],impl:z("split")};g.splitOnRegex={consts:{},types:[a.GlobalRegExp,a.String,a.Array(a.String)],impl:function(a){return function(b){return Ha(a,function(){for(var c=[],d=0,e;null!=(e=a.exec(b));)if(a.lastIndex===d&&""===e[0]){if(a.lastIndex===b.length)return c;a.lastIndex+=1}else c.push(b.slice(d,e.index)),d=e.index+e[0].length;c.push(b.slice(d));return c})}}};return A({checkTypes:"undefined"===typeof w||null==w||null==w.env||"production"!==w.env.NODE_ENV,env:a.env})})}).call(this,f("_process"))},{".":11,_process:13,"sanctuary-def":2,"sanctuary-either":5,"sanctuary-maybe":6,"sanctuary-pair":7,"sanctuary-show":8,"sanctuary-type-classes":9,"sanctuary-type-identifiers":10}],12:[function(f,n,x){n.exports="function"===typeof Object.create?function(f,a){f.super_=a;f.prototype=Object.create(a.prototype,{constructor:{value:f,enumerable:!1,writable:!0,configurable:!0}})}:function(f,a){f.super_=a;var n=function(){};n.prototype=a.prototype;f.prototype=new n;f.prototype.constructor=f}},{}],13:[function(f,n,x){function w(){throw Error("setTimeout has not been defined");}function a(){throw Error("clearTimeout has not been defined");}function q(a){if(v===setTimeout)return setTimeout(a,0);if((v===w||!v)&&setTimeout)return v=setTimeout,setTimeout(a,0);try{return v(a,0)}catch(p){try{return v.call(null,a,0)}catch(B){return v.call(this,a,0)}}}function l(c){if(la===clearTimeout)return clearTimeout(c);if((la===a||!la)&&clearTimeout)return la=clearTimeout,clearTimeout(c);try{return la(c)}catch(p){try{return la.call(null,c)}catch(B){return la.call(this,c)}}}function h(){Q&&z&&(Q=!1,z.length?N=z.concat(N):J=-1,N.length&&Ma())}function Ma(){if(!Q){var a=q(h);Q=!0;for(var c=N.length;c;){z=N;for(N=[];++J<c;)z&&z[J].run();J=-1;c=N.length}z=null;Q=!1;l(a)}}function c(a,c){this.fun=a;this.array=c}function ra(){}f=n.exports={};try{var v="function"===typeof setTimeout?setTimeout:w}catch(A){v=w}try{var la="function"===typeof clearTimeout?clearTimeout:a}catch(A){la=a}var N=[],Q=!1,z,J=-1;f.nextTick=function(a){var f=Array(arguments.length-1);if(1<arguments.length)for(var h=1;h<arguments.length;h++)f[h-1]=arguments[h];N.push(new c(a,f));1!==N.length||Q||q(Ma)};c.prototype.run=function(){this.fun.apply(null,this.array)};f.title="browser";f.browser=!0;f.env={};f.argv=[];f.version="";f.versions={};f.on=ra;f.addListener=ra;f.once=ra;f.off=ra;f.removeListener=ra;f.removeAllListeners=ra;f.emit=ra;f.prependListener=ra;f.prependOnceListener=ra;f.listeners=function(a){return[]};f.binding=function(a){throw Error("process.binding is not supported");};f.cwd=function(){return"/"};f.chdir=function(a){throw Error("process.chdir is not supported");};f.umask=function(){return 0}},{}],14:[function(f,n,x){n.exports=function(f){return f&&"object"===typeof f&&"function"===typeof f.copy&&"function"===typeof f.fill&&"function"===typeof f.readUInt8}},{}],15:[function(f,n,x){(function(n,a){function q(a,f){var r={seen:[],stylize:h};3<=arguments.length&&(r.depth=arguments[2]);4<=arguments.length&&(r.colors=arguments[3]);J(f)?r.showHidden=f:f&&x._extend(r,f);B(r.showHidden)&&(r.showHidden=!1);B(r.depth)&&(r.depth=2);B(r.colors)&&(r.colors=!1);B(r.customInspect)&&(r.customInspect=!0);r.colors&&(r.stylize=l);return c(r,a,r.depth)}function l(a,c){var f=q.styles[c];return f?"\u001b["+q.colors[f][0]+"m"+a+"\u001b["+q.colors[f][1]+"m":a}function h(a,c){return a}function w(a){var c={};a.forEach(function(a,f){c[a]=!0});return c}function c(a,f,h){if(a.customInspect&&f&&ca(f.inspect)&&f.inspect!==x.inspect&&(!f.constructor||f.constructor.prototype!==f)){var r=f.inspect(h,a);p(r)||(r=c(a,r,h));return r}if(r=ra(a,f))return r;var l=Object.keys(f),n=w(l);a.showHidden&&(l=Object.getOwnPropertyNames(f));if(y(f)&&(0<=l.indexOf("message")||0<=l.indexOf("description")))return v(f);if(0===l.length){if(ca(f))return a.stylize("[Function"+(f.name?": "+f.name:"")+"]","special");if(R(f))return a.stylize(RegExp.prototype.toString.call(f),"regexp");if(I(f))return a.stylize(Date.prototype.toString.call(f),"date");if(y(f))return v(f)}r="";var q=!1,G=["{","}"];z(f)&&(q=!0,G=["[","]"]);ca(f)&&(r=" [Function"+(f.name?": "+f.name:"")+"]");R(f)&&(r=" "+RegExp.prototype.toString.call(f));I(f)&&(r=" "+Date.prototype.toUTCString.call(f));y(f)&&(r=" "+v(f));if(0===l.length&&(!q||0==f.length))return G[0]+r+G[1];if(0>h)return R(f)?a.stylize(RegExp.prototype.toString.call(f),"regexp"):a.stylize("[Object]","special");a.seen.push(f);l=q?la(a,f,h,n,l):l.map(function(c){return N(a,f,h,n,c,q)});a.seen.pop();return Q(l,r,G)}function ra(a,c){if(B(c))return a.stylize("undefined","undefined");if(p(c)){var f="'"+JSON.stringify(c).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return a.stylize(f,"string")}if(A(c))return a.stylize(""+c,"number");if(J(c))return a.stylize(""+c,"boolean");if(null===c)return a.stylize("null","null")}function v(a){return"["+Error.prototype.toString.call(a)+"]"}function la(a,c,f,h,l){for(var r=[],n=0,q=c.length;n<q;++n)Object.prototype.hasOwnProperty.call(c,String(n))?r.push(N(a,c,f,h,String(n),!0)):r.push("");l.forEach(function(l){l.match(/^\d+$/)||r.push(N(a,c,f,h,l,!0))});return r}function N(a,f,h,l,n,q){var r,p;f=Object.getOwnPropertyDescriptor(f,n)||{value:f[n]};f.get?p=f.set?a.stylize("[Getter/Setter]","special"):a.stylize("[Getter]","special"):f.set&&(p=a.stylize("[Setter]","special"));Object.prototype.hasOwnProperty.call(l,n)||(r="["+n+"]");p||(0>a.seen.indexOf(f.value)?(p=null===h?c(a,f.value,null):c(a,f.value,h-1),-1<p.indexOf("\n")&&(p=q?p.split("\n").map(function(a){return"  "+a}).join("\n").substr(2):"\n"+p.split("\n").map(function(a){return"   "+a}).join("\n"))):p=a.stylize("[Circular]","special"));if(B(r)){if(q&&n.match(/^\d+$/))return p;r=JSON.stringify(""+n);r.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(r=r.substr(1,r.length-2),r=a.stylize(r,"name")):(r=r.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),r=a.stylize(r,"string"))}return r+": "+p}function Q(a,c,f){var h=0;return 60<a.reduce(function(a,c){h++;0<=c.indexOf("\n")&&h++;return a+c.replace(/\u001b\[\d\d?m/g,"").length+1},0)?f[0]+(""===c?"":c+"\n ")+" "+a.join(",\n  ")+" "+f[1]:f[0]+c+" "+a.join(", ")+" "+f[1]}function z(a){return Array.isArray(a)}function J(a){return"boolean"===typeof a}function A(a){return"number"===typeof a}function p(a){return"string"===typeof a}function B(a){return void 0===a}function R(a){return Y(a)&&"[object RegExp]"===Object.prototype.toString.call(a)}function Y(a){return"object"===typeof a&&null!==a}function I(a){return Y(a)&&"[object Date]"===Object.prototype.toString.call(a)}function y(a){return Y(a)&&("[object Error]"===Object.prototype.toString.call(a)||a instanceof Error)}function ca(a){return"function"===typeof a}function ja(a){return 10>a?"0"+a.toString(10):a.toString(10)}function sa(){var a=new Date,c=[ja(a.getHours()),ja(a.getMinutes()),ja(a.getSeconds())].join(":");return[a.getDate(),U[a.getMonth()],c].join(" ")}var F=/%[sdj%]/g;x.format=function(a){if(!p(a)){for(var c=[],f=0;f<arguments.length;f++)c.push(q(arguments[f]));return c.join(" ")}f=1;var h=arguments,l=h.length;c=String(a).replace(F,function(a){if("%%"===a)return"%";if(f>=l)return a;switch(a){case "%s":return String(h[f++]);case "%d":return Number(h[f++]);case "%j":try{return JSON.stringify(h[f++])}catch(za){return"[Circular]"}default:return a}});for(var r=h[f];f<l;r=h[++f])c=null!==r&&Y(r)?c+(" "+q(r)):c+(" "+r);return c};x.deprecate=function(c,f){if(B(a.process))return function(){return x.deprecate(c,f).apply(this,arguments)};if(!0===n.noDeprecation)return c;var h=!1;return function(){if(!h){if(n.throwDeprecation)throw Error(f);n.traceDeprecation?console.trace(f):console.error(f);h=!0}return c.apply(this,arguments)}};var T={},fa;x.debuglog=function(a){B(fa)&&(fa=n.env.NODE_DEBUG||"");a=a.toUpperCase();if(!T[a])if((new RegExp("\\b"+a+"\\b","i")).test(fa)){var c=n.pid;T[a]=function(){var f=x.format.apply(x,arguments);console.error("%s %d: %s",a,c,f)}}else T[a]=function(){};return T[a]};x.inspect=q;q.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]};q.styles={special:"cyan",number:"yellow","boolean":"yellow",undefined:"grey","null":"bold",string:"green",date:"magenta",regexp:"red"};x.isArray=z;x.isBoolean=J;x.isNull=function(a){return null===a};x.isNullOrUndefined=function(a){return null==a};x.isNumber=A;x.isString=p;x.isSymbol=function(a){return"symbol"===typeof a};x.isUndefined=B;x.isRegExp=R;x.isObject=Y;x.isDate=I;x.isError=y;x.isFunction=ca;x.isPrimitive=function(a){return null===a||"boolean"===typeof a||"number"===typeof a||"string"===typeof a||"symbol"===typeof a||"undefined"===typeof a};x.isBuffer=f("./support/isBuffer");var U="Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" ");x.log=function(){console.log("%s - %s",sa(),x.format.apply(x,arguments))};x.inherits=f("inherits");x._extend=function(a,c){if(!c||!Y(c))return a;for(var f=Object.keys(c),h=f.length;h--;)a[f[h]]=c[f[h]];return a}}).call(this,f("_process"),"undefined"!==typeof global?global:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{})},{"./support/isBuffer":14,_process:13,inherits:12}]},{},[1])})(self);